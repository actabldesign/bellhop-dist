{"version":3,"file":"form-9mbajZ3y.js","sources":["src/utils/form.ts"],"sourcesContent":["/**\n * Form utilities for form-associated custom elements\n *\n * These utilities help Stencil components participate in native HTML forms\n * using the ElementInternals API (formAssociated: true).\n */\n\n/**\n * Interface for text-based form components (input, textarea)\n */\nexport interface FormComponent {\n  internals: ElementInternals;\n  name: string;\n  value: string | number | null;\n  disabled: boolean;\n  required?: boolean;\n}\n\n/**\n * Sync a text/number value to the form\n * Call this in handleInput and componentDidLoad\n */\nexport function syncFormValue(component: FormComponent): void {\n  if (!component.internals?.setFormValue || !component.name) return;\n\n  const value = component.value;\n  if (value === null || value === undefined || value === '') {\n    component.internals.setFormValue(null);\n  } else {\n    component.internals.setFormValue(String(value));\n  }\n}\n\n/**\n * Sync a checkable component's value to the form\n * For checkbox, toggle, radio - value is only submitted when checked\n */\nexport function syncCheckableFormValue(\n  internals: ElementInternals | undefined,\n  name: string,\n  checked: boolean,\n  value: string = 'on'\n): void {\n  if (!internals?.setFormValue || !name) return;\n  internals.setFormValue(checked ? value : null);\n}\n\n/**\n * Update validity state based on a native input element\n * This delegates to the browser's built-in validation\n */\nexport function updateValidity(\n  internals: ElementInternals | undefined,\n  inputEl: HTMLInputElement | HTMLTextAreaElement | null | undefined,\n  customMessage?: string\n): void {\n  if (!internals?.setValidity) return;\n\n  if (inputEl) {\n    internals.setValidity(\n      inputEl.validity,\n      customMessage || inputEl.validationMessage,\n      inputEl\n    );\n  }\n}\n\n/**\n * Set custom validity for components without native inputs\n */\nexport function setCustomValidity(\n  internals: ElementInternals | undefined,\n  isValid: boolean,\n  message: string = ''\n): void {\n  if (!internals?.setValidity) return;\n\n  if (isValid) {\n    internals.setValidity({});\n  } else {\n    internals.setValidity({ customError: true }, message);\n  }\n}\n\n/**\n * Validate required state for checkable components (checkbox, toggle)\n */\nexport function validateRequired(\n  internals: ElementInternals | undefined,\n  required: boolean,\n  checked: boolean,\n  message: string = 'Please check this box if you want to proceed.'\n): void {\n  if (!internals?.setValidity) return;\n\n  if (required && !checked) {\n    internals.setValidity({ valueMissing: true }, message);\n  } else {\n    internals.setValidity({});\n  }\n}\n"],"names":[],"mappings":";;AAAA;;;;;AAKG;AAaH;;;AAGG;AACG,SAAU,aAAa,CAAC,SAAwB,EAAA;IACpD,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,YAAY,IAAI,CAAC,SAAS,CAAC,IAAI;QAAE;AAE3D,IAAA,MAAM,KAAK,GAAG,SAAS,CAAC,KAAK;AAC7B,IAAA,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,EAAE,EAAE;AACzD,QAAA,SAAS,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC;;SACjC;QACL,SAAS,CAAC,SAAS,CAAC,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;;AAEnD;AAEA;;;AAGG;AACG,SAAU,sBAAsB,CACpC,SAAuC,EACvC,IAAY,EACZ,OAAgB,EAChB,KAAA,GAAgB,IAAI,EAAA;AAEpB,IAAA,IAAI,CAAC,SAAS,EAAE,YAAY,IAAI,CAAC,IAAI;QAAE;AACvC,IAAA,SAAS,CAAC,YAAY,CAAC,OAAO,GAAG,KAAK,GAAG,IAAI,CAAC;AAChD;AAEA;;;AAGG;SACa,cAAc,CAC5B,SAAuC,EACvC,OAAkE,EAClE,aAAsB,EAAA;IAEtB,IAAI,CAAC,SAAS,EAAE,WAAW;QAAE;IAE7B,IAAI,OAAO,EAAE;AACX,QAAA,SAAS,CAAC,WAAW,CACnB,OAAO,CAAC,QAAQ,EAChB,aAAa,IAAI,OAAO,CAAC,iBAAiB,EAC1C,OAAO,CACR;;AAEL;AAmBA;;AAEG;AACG,SAAU,gBAAgB,CAC9B,SAAuC,EACvC,QAAiB,EACjB,OAAgB,EAChB,OAAA,GAAkB,+CAA+C,EAAA;IAEjE,IAAI,CAAC,SAAS,EAAE,WAAW;QAAE;AAE7B,IAAA,IAAI,QAAQ,IAAI,CAAC,OAAO,EAAE;QACxB,SAAS,CAAC,WAAW,CAAC,EAAE,YAAY,EAAE,IAAI,EAAE,EAAE,OAAO,CAAC;;SACjD;AACL,QAAA,SAAS,CAAC,WAAW,CAAC,EAAE,CAAC;;AAE7B;;;;;;;"}