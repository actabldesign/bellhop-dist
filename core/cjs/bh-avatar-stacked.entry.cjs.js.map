{"version":3,"file":"bh-avatar-stacked.entry.cjs.js","sources":["src/components/bh-avatar-stacked/bh-avatar-stacked.css?tag=bh-avatar-stacked&encapsulation=shadow","src/components/bh-avatar-stacked/bh-avatar-stacked.tsx"],"sourcesContent":[":host {\n  display: inline-block;\n  font-family: var(\n    --font-inter,\n    'Inter',\n    -apple-system,\n    BlinkMacSystemFont,\n    sans-serif\n  );\n}\n\n/* Container */\n.avatar-stacked {\n  display: flex;\n  align-items: center;\n}\n\n/* Avatar Item Wrapper */\n.avatar-item {\n  position: relative;\n  display: inline-flex;\n}\n\n/* Add white border around nested avatars for visual separation */\n.avatar-item bh-avatar,\n.avatar-item bh-avatar-add {\n  box-shadow: 0 0 0 2px var(--color-white, #ffffff);\n  border-radius: 50%;\n}\n","import { Component, Prop, State, h } from '@stencil/core';\n\nexport type AvatarStackedSize = 'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl';\n\nexport interface AvatarData {\n  type: 'image' | 'text' | 'icon';\n  imageSrc?: string;\n  text?: string;\n  tooltipText?: string;\n}\n\n@Component({\n  tag: 'bh-avatar-stacked',\n  styleUrl: 'bh-avatar-stacked.css',\n  shadow: true,\n})\nexport class BhAvatarStacked {\n  /**\n   * The size of the avatars in the stack\n   */\n  @Prop() size: AvatarStackedSize = 'md';\n\n  /**\n   * JSON array of avatar data\n   */\n  @Prop() avatars: string = '[]';\n\n  /**\n   * Maximum number of visible avatars before showing count\n   */\n  @Prop() maxVisible: number = 10;\n\n  /**\n   * Whether to show the add button\n   */\n  @Prop() showAddButton: boolean = true;\n\n  /**\n   * Tooltip text for the add button\n   */\n  @Prop() addTooltipText: string = 'Add member';\n\n  /**\n   * Track hovered avatar index for tooltips\n   */\n  @State() hoveredIndex: number = -1;\n\n  /**\n   * Track add button hover state\n   */\n  @State() addButtonHovered: boolean = false;\n\n  private getParsedAvatars(): AvatarData[] {\n    try {\n      return JSON.parse(this.avatars) as AvatarData[];\n    } catch {\n      return [];\n    }\n  }\n\n  private getAvatarSize(): number {\n    const sizeMap: Record<AvatarStackedSize, number> = {\n      xs: 24,\n      sm: 32,\n      md: 40,\n      lg: 48,\n      xl: 56,\n      '2xl': 64,\n    };\n    return sizeMap[this.size] || 40;\n  }\n\n  private getOffset(): number {\n    const avatarSize = this.getAvatarSize();\n    return Math.floor(avatarSize * 0.3);\n  }\n\n  private mapAvatarType(\n    type: 'image' | 'text' | 'icon'\n  ): 'image' | 'text' | 'placeholder' {\n    if (type === 'icon') {\n      return 'placeholder';\n    }\n    return type;\n  }\n\n  render() {\n    const parsedAvatars = this.getParsedAvatars();\n    const visibleAvatars = parsedAvatars.slice(0, this.maxVisible - 1);\n    const remainingCount = parsedAvatars.length - (this.maxVisible - 1);\n    const showCountAvatar = remainingCount > 0;\n    const offset = this.getOffset();\n\n    return (\n      <div\n        class={`avatar-stacked avatar-stacked-${this.size}`}\n        part=\"container\"\n      >\n        {visibleAvatars.map((avatar, index) => (\n          <div\n            class=\"avatar-item\"\n            style={{ marginLeft: index > 0 ? `-${offset}px` : '0' }}\n            onMouseEnter={() => {\n              this.hoveredIndex = index;\n            }}\n            onMouseLeave={() => {\n              this.hoveredIndex = -1;\n            }}\n          >\n            <bh-avatar\n              type={this.mapAvatarType(avatar.type)}\n              size={this.size}\n              imageSrc={avatar.imageSrc}\n              text={avatar.text || '?'}\n              alt={avatar.text || 'Avatar'}\n            />\n            {avatar.tooltipText && (\n              <bh-tooltip\n                text={avatar.tooltipText}\n                visible={this.hoveredIndex === index}\n                position=\"bottom\"\n              />\n            )}\n          </div>\n        ))}\n\n        {showCountAvatar && (\n          <div\n            class=\"avatar-item\"\n            style={{\n              marginLeft: visibleAvatars.length > 0 ? `-${offset}px` : '0',\n            }}\n          >\n            <bh-avatar\n              type=\"text\"\n              size={this.size}\n              text={`+${remainingCount}`}\n              alt={`${remainingCount} more`}\n            />\n          </div>\n        )}\n\n        {this.showAddButton && (\n          <div\n            class=\"avatar-item\"\n            style={{\n              marginLeft:\n                visibleAvatars.length > 0 || showCountAvatar\n                  ? `-${offset}px`\n                  : '0',\n            }}\n            onMouseEnter={() => {\n              this.addButtonHovered = true;\n            }}\n            onMouseLeave={() => {\n              this.addButtonHovered = false;\n            }}\n          >\n            <bh-avatar-add\n              size={this.size}\n              showTooltip={true}\n              tooltipText={this.addTooltipText}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n"],"names":["h","index"],"mappings":"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"}