{"version":3,"file":"bh-accordion.entry.esm.js","sources":["src/components/bh-accordion/bh-accordion.css?tag=bh-accordion&encapsulation=shadow","src/components/bh-accordion/bh-accordion.tsx"],"sourcesContent":["/* ==========================================================================\n   BH-ACCORDION COMPONENT STYLES\n   ========================================================================== */\n\n:host {\n  display: block;\n  width: 100%;\n}\n\n/* Container */\n.accordion-container {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  background-color: var(--color-white);\n}\n\n/* ==========================================================================\n   MODE VARIATIONS\n   ========================================================================== */\n\n/* Single mode - no specific styles needed */\n.accordion-single .accordion-container {\n  /* Default behavior */\n}\n\n/* Multiple mode - no specific styles needed */\n.accordion-multiple .accordion-container {\n  /* Default behavior */\n}\n","import {\n  Component,\n  Prop,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Listen,\n  State,\n  Watch,\n} from '@stencil/core';\n\nexport type AccordionMode = 'single' | 'multiple';\n\n/**\n * @slot - Accordion items (bh-accordion-item components)\n */\n@Component({\n  tag: 'bh-accordion',\n  styleUrl: 'bh-accordion.css',\n  shadow: true,\n})\nexport class BhAccordion {\n  /**\n   * The mode of the accordion:\n   * - 'single': Only one item can be expanded at a time\n   * - 'multiple': Multiple items can be expanded simultaneously\n   */\n  @Prop() mode: AccordionMode = 'single';\n\n  /**\n   * The value(s) of the currently expanded item(s).\n   * For single mode: a string value\n   * For multiple mode: an array of string values (comma-separated string)\n   */\n  @Prop({ mutable: true }) value: string = '';\n\n  /**\n   * Whether to collapse other items when one is expanded (only applies in single mode)\n   */\n  @Prop() collapsible: boolean = true;\n\n  /**\n   * Internal state to track expanded items\n   */\n  @State() expandedItems: Set<string> = new Set();\n\n  /**\n   * Emitted when the expanded state changes\n   */\n  @Event({ bubbles: true, composed: true })\n  bhAccordionChange!: EventEmitter<string | string[]>;\n\n  componentWillLoad(): void {\n    this.parseValue();\n  }\n\n  @Watch('value')\n  handleValueChange(): void {\n    this.parseValue();\n    this.updateChildItems();\n  }\n\n  private parseValue(): void {\n    if (!this.value) {\n      this.expandedItems = new Set();\n      return;\n    }\n\n    if (this.mode === 'multiple') {\n      this.expandedItems = new Set(this.value.split(',').filter(Boolean));\n    } else {\n      this.expandedItems = new Set([this.value]);\n    }\n  }\n\n  private updateChildItems(): void {\n    const slot = this.getSlot();\n    if (!slot) return;\n\n    const items = slot.assignedElements() as HTMLBhAccordionItemElement[];\n    items.forEach((item) => {\n      if (item.tagName.toLowerCase() === 'bh-accordion-item') {\n        item.expanded = this.expandedItems.has(item.value);\n      }\n    });\n  }\n\n  private getSlot(): HTMLSlotElement | null {\n    const host = document.querySelector('bh-accordion');\n    if (!host?.shadowRoot) return null;\n    return host.shadowRoot.querySelector('slot');\n  }\n\n  @Listen('bhAccordionToggle')\n  handleAccordionToggle(\n    event: CustomEvent<{ value: string; expanded: boolean }>\n  ): void {\n    const { value, expanded } = event.detail;\n\n    if (this.mode === 'single') {\n      if (expanded) {\n        this.expandedItems = new Set([value]);\n      } else if (this.collapsible) {\n        this.expandedItems = new Set();\n      }\n    } else {\n      if (expanded) {\n        this.expandedItems.add(value);\n      } else {\n        this.expandedItems.delete(value);\n      }\n      this.expandedItems = new Set(this.expandedItems);\n    }\n\n    this.updateValue();\n    this.updateChildItems();\n  }\n\n  private updateValue(): void {\n    const items = Array.from(this.expandedItems);\n\n    if (this.mode === 'multiple') {\n      this.value = items.join(',');\n      this.bhAccordionChange.emit(items);\n    } else {\n      this.value = items[0] || '';\n      this.bhAccordionChange.emit(this.value);\n    }\n  }\n\n  render() {\n    const hostClasses = {\n      accordion: true,\n      [`accordion-${this.mode}`]: true,\n    };\n\n    return (\n      <Host class={hostClasses}>\n        <div class=\"accordion-container\" part=\"container\" role=\"presentation\">\n          <slot />\n        </div>\n      </Host>\n    );\n  }\n}\n\ninterface HTMLBhAccordionItemElement extends HTMLElement {\n  value: string;\n  expanded: boolean;\n}\n"],"names":[],"mappings":"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"}