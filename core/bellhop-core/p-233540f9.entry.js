import{r as e,c as t,a as n,f as r,h as l}from"./p-nAAobRRQ.js";
/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */
function o(e,t){return typeof e==="function"?e(t):e}function i(e,t){return n=>{t.setState((t=>({...t,[e]:o(n,t[e])})))}}function a(e){return e instanceof Function}function s(e){return Array.isArray(e)&&e.every((e=>typeof e==="number"))}function u(e,t){const n=[];const r=e=>{e.forEach((e=>{n.push(e);const l=t(e);if(l!=null&&l.length){r(l)}}))};r(e);return n}function d(e,t,n){let r=[];let l;return o=>{let i;if(n.key&&n.debug)i=Date.now();const a=e(o);const s=a.length!==r.length||a.some(((e,t)=>r[t]!==e));if(!s){return l}r=a;let u;if(n.key&&n.debug)u=Date.now();l=t(...a);n==null||n.onChange==null||n.onChange(l);if(n.key&&n.debug){if(n!=null&&n.debug()){const e=Math.round((Date.now()-i)*100)/100;const t=Math.round((Date.now()-u)*100)/100;const r=t/16;const l=(e,t)=>{e=String(e);while(e.length<t){e=" "+e}return e};console.info(`%câ± ${l(t,5)} /${l(e,5)} ms`,`\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0,Math.min(120-120*r,120))}deg 100% 31%);`,n==null?void 0:n.key)}}return l}}function c(e,t,n,r){return{debug:()=>{var n;return(n=e==null?void 0:e.debugAll)!=null?n:e[t]},key:"production"==="development",onChange:r}}function f(e,t,n,r){const l=()=>{var t;return(t=o.getValue())!=null?t:e.options.renderFallbackValue};const o={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:l,getContext:d((()=>[e,n,t,o]),((e,t,n,r)=>({table:e,column:t,row:n,cell:r,getValue:r.getValue,renderValue:r.renderValue})),c(e.options,"debugCells"))};e._features.forEach((r=>{r.createCell==null||r.createCell(o,n,t,e)}),{});return o}function g(e,t,n,r){var l,o;const i=e._getDefaultColumnDef();const a={...i,...t};const s=a.accessorKey;let u=(l=(o=a.id)!=null?o:s?typeof String.prototype.replaceAll==="function"?s.replaceAll(".","_"):s.replace(/\./g,"_"):undefined)!=null?l:typeof a.header==="string"?a.header:undefined;let f;if(a.accessorFn){f=a.accessorFn}else if(s){if(s.includes(".")){f=e=>{let t=e;for(const e of s.split(".")){var n;t=(n=t)==null?void 0:n[e]}return t}}else{f=e=>e[a.accessorKey]}}if(!u){throw new Error}let g={id:`${String(u)}`,accessorFn:f,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:d((()=>[true]),(()=>{var e;return[g,...(e=g.columns)==null?void 0:e.flatMap((e=>e.getFlatColumns()))]}),c(e.options,"debugColumns")),getLeafColumns:d((()=>[e._getOrderColumnsFn()]),(e=>{var t;if((t=g.columns)!=null&&t.length){let t=g.columns.flatMap((e=>e.getLeafColumns()));return e(t)}return[g]}),c(e.options,"debugColumns"))};for(const t of e._features){t.createColumn==null||t.createColumn(g,e)}return g}const h="debugHeaders";function p(e,t,n){var r;const l=(r=n.id)!=null?r:t.id;let o={id:l,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const e=[];const t=n=>{if(n.subHeaders&&n.subHeaders.length){n.subHeaders.map(t)}e.push(n)};t(o);return e},getContext:()=>({table:e,header:o,column:t})};e._features.forEach((t=>{t.createHeader==null||t.createHeader(o,e)}));return o}const v={createTable:e=>{e.getHeaderGroups=d((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((t,n,r,l)=>{var o,i;const a=(o=r==null?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))!=null?o:[];const s=(i=l==null?void 0:l.map((e=>n.find((t=>t.id===e)))).filter(Boolean))!=null?i:[];const u=n.filter((e=>!(r!=null&&r.includes(e.id))&&!(l!=null&&l.includes(e.id))));const d=b(t,[...a,...u,...s],e);return d}),c(e.options,h));e.getCenterHeaderGroups=d((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((t,n,r,l)=>{n=n.filter((e=>!(r!=null&&r.includes(e.id))&&!(l!=null&&l.includes(e.id))));return b(t,n,e,"center")}),c(e.options,h));e.getLeftHeaderGroups=d((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left]),((t,n,r)=>{var l;const o=(l=r==null?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))!=null?l:[];return b(t,o,e,"left")}),c(e.options,h));e.getRightHeaderGroups=d((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right]),((t,n,r)=>{var l;const o=(l=r==null?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))!=null?l:[];return b(t,o,e,"right")}),c(e.options,h));e.getFooterGroups=d((()=>[e.getHeaderGroups()]),(e=>[...e].reverse()),c(e.options,h));e.getLeftFooterGroups=d((()=>[e.getLeftHeaderGroups()]),(e=>[...e].reverse()),c(e.options,h));e.getCenterFooterGroups=d((()=>[e.getCenterHeaderGroups()]),(e=>[...e].reverse()),c(e.options,h));e.getRightFooterGroups=d((()=>[e.getRightHeaderGroups()]),(e=>[...e].reverse()),c(e.options,h));e.getFlatHeaders=d((()=>[e.getHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),c(e.options,h));e.getLeftFlatHeaders=d((()=>[e.getLeftHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),c(e.options,h));e.getCenterFlatHeaders=d((()=>[e.getCenterHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),c(e.options,h));e.getRightFlatHeaders=d((()=>[e.getRightHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),c(e.options,h));e.getCenterLeafHeaders=d((()=>[e.getCenterFlatHeaders()]),(e=>e.filter((e=>{var t;return!((t=e.subHeaders)!=null&&t.length)}))),c(e.options,h));e.getLeftLeafHeaders=d((()=>[e.getLeftFlatHeaders()]),(e=>e.filter((e=>{var t;return!((t=e.subHeaders)!=null&&t.length)}))),c(e.options,h));e.getRightLeafHeaders=d((()=>[e.getRightFlatHeaders()]),(e=>e.filter((e=>{var t;return!((t=e.subHeaders)!=null&&t.length)}))),c(e.options,h));e.getLeafHeaders=d((()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()]),((e,t,n)=>{var r,l,o,i,a,s;return[...(r=(l=e[0])==null?void 0:l.headers)!=null?r:[],...(o=(i=t[0])==null?void 0:i.headers)!=null?o:[],...(a=(s=n[0])==null?void 0:s.headers)!=null?a:[]].map((e=>e.getLeafHeaders())).flat()}),c(e.options,h))}};function b(e,t,n,r){var l,o;let i=0;const a=function(e,t){if(t===void 0){t=1}i=Math.max(i,t);e.filter((e=>e.getIsVisible())).forEach((e=>{var n;if((n=e.columns)!=null&&n.length){a(e.columns,t+1)}}),0)};a(e);let s=[];const u=(e,t)=>{const l={depth:t,id:[r,`${t}`].filter(Boolean).join("_"),headers:[]};const o=[];e.forEach((e=>{const i=[...o].reverse()[0];const a=e.column.depth===l.depth;let s;let u=false;if(a&&e.column.parent){s=e.column.parent}else{s=e.column;u=true}if(i&&(i==null?void 0:i.column)===s){i.subHeaders.push(e)}else{const l=p(n,s,{id:[r,t,s.id,e==null?void 0:e.id].filter(Boolean).join("_"),isPlaceholder:u,placeholderId:u?`${o.filter((e=>e.column===s)).length}`:undefined,depth:t,index:o.length});l.subHeaders.push(e);o.push(l)}l.headers.push(e);e.headerGroup=l}));s.push(l);if(t>0){u(o,t-1)}};const d=t.map(((e,t)=>p(n,e,{depth:i,index:t})));u(d,i-1);s.reverse();const c=e=>{const t=e.filter((e=>e.column.getIsVisible()));return t.map((e=>{let t=0;let n=0;let r=[0];if(e.subHeaders&&e.subHeaders.length){r=[];c(e.subHeaders).forEach((e=>{let{colSpan:n,rowSpan:l}=e;t+=n;r.push(l)}))}else{t=1}const l=Math.min(...r);n=n+l;e.colSpan=t;e.rowSpan=n;return{colSpan:t,rowSpan:n}}))};c((l=(o=s[0])==null?void 0:o.headers)!=null?l:[]);return s}const m=(e,t,n,r,l,o,i)=>{let a={id:t,index:r,original:n,depth:l,parentId:i,_valuesCache:{},_uniqueValuesCache:{},getValue:t=>{if(a._valuesCache.hasOwnProperty(t)){return a._valuesCache[t]}const n=e.getColumn(t);if(!(n!=null&&n.accessorFn)){return undefined}a._valuesCache[t]=n.accessorFn(a.original,r);return a._valuesCache[t]},getUniqueValues:t=>{if(a._uniqueValuesCache.hasOwnProperty(t)){return a._uniqueValuesCache[t]}const n=e.getColumn(t);if(!(n!=null&&n.accessorFn)){return undefined}if(!n.columnDef.getUniqueValues){a._uniqueValuesCache[t]=[a.getValue(t)];return a._uniqueValuesCache[t]}a._uniqueValuesCache[t]=n.columnDef.getUniqueValues(a.original,r);return a._uniqueValuesCache[t]},renderValue:t=>{var n;return(n=a.getValue(t))!=null?n:e.options.renderFallbackValue},subRows:o!=null?o:[],getLeafRows:()=>u(a.subRows,(e=>e.subRows)),getParentRow:()=>a.parentId?e.getRow(a.parentId,true):undefined,getParentRows:()=>{let e=[];let t=a;while(true){const n=t.getParentRow();if(!n)break;e.push(n);t=n}return e.reverse()},getAllCells:d((()=>[e.getAllLeafColumns()]),(t=>t.map((t=>f(e,a,t,t.id)))),c(e.options,"debugRows")),_getAllCellsByColumnId:d((()=>[a.getAllCells()]),(e=>e.reduce(((e,t)=>{e[t.column.id]=t;return e}),{})),c(e.options,"debugRows"))};for(let t=0;t<e._features.length;t++){const n=e._features[t];n==null||n.createRow==null||n.createRow(a,e)}return a};const w={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id);e.getFacetedRowModel=()=>{if(!e._getFacetedRowModel){return t.getPreFilteredRowModel()}return e._getFacetedRowModel()};e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id);e.getFacetedUniqueValues=()=>{if(!e._getFacetedUniqueValues){return new Map}return e._getFacetedUniqueValues()};e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id);e.getFacetedMinMaxValues=()=>{if(!e._getFacetedMinMaxValues){return undefined}return e._getFacetedMinMaxValues()}}};const x=(e,t,n)=>{var r,l;const o=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return Boolean((l=e.getValue(t))==null||(l=l.toString())==null||(l=l.toLowerCase())==null?void 0:l.includes(o))};x.autoRemove=e=>F(e);const y=(e,t,n)=>{var r;return Boolean((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.includes(n))};y.autoRemove=e=>F(e);const C=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};C.autoRemove=e=>F(e);const S=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};S.autoRemove=e=>F(e);const k=(e,t,n)=>!n.some((n=>{var r;return!((r=e.getValue(t))!=null&&r.includes(n))}));k.autoRemove=e=>F(e)||!(e!=null&&e.length);const R=(e,t,n)=>n.some((n=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)}));R.autoRemove=e=>F(e)||!(e!=null&&e.length);const I=(e,t,n)=>e.getValue(t)===n;I.autoRemove=e=>F(e);const z=(e,t,n)=>e.getValue(t)==n;z.autoRemove=e=>F(e);const O=(e,t,n)=>{let[r,l]=n;const o=e.getValue(t);return o>=r&&o<=l};O.resolveFilterValue=e=>{let[t,n]=e;let r=typeof t!=="number"?parseFloat(t):t;let l=typeof n!=="number"?parseFloat(n):n;let o=t===null||Number.isNaN(r)?-Infinity:r;let i=n===null||Number.isNaN(l)?Infinity:l;if(o>i){const e=o;o=i;i=e}return[o,i]};O.autoRemove=e=>F(e)||F(e[0])&&F(e[1]);const B={includesString:x,includesStringSensitive:y,equalsString:C,arrIncludes:S,arrIncludesAll:k,arrIncludesSome:R,equals:I,weakEquals:z,inNumberRange:O};function F(e){return e===undefined||e===null||e===""}const M={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:i("columnFilters",e),filterFromLeafRows:false,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0];const r=n==null?void 0:n.getValue(e.id);if(typeof r==="string"){return B.includesString}if(typeof r==="number"){return B.inNumberRange}if(typeof r==="boolean"){return B.equals}if(r!==null&&typeof r==="object"){return B.equals}if(Array.isArray(r)){return B.arrIncludes}return B.weakEquals};e.getFilterFn=()=>{var n,r;return a(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:B[e.columnDef.filterFn]};e.getCanFilter=()=>{var n,r,l;return((n=e.columnDef.enableColumnFilter)!=null?n:true)&&((r=t.options.enableColumnFilters)!=null?r:true)&&((l=t.options.enableFilters)!=null?l:true)&&!!e.accessorFn};e.getIsFiltered=()=>e.getFilterIndex()>-1;e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find((t=>t.id===e.id)))==null?void 0:n.value};e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex((t=>t.id===e.id)))!=null?n:-1};e.setFilterValue=n=>{t.setColumnFilters((t=>{const r=e.getFilterFn();const l=t==null?void 0:t.find((t=>t.id===e.id));const i=o(n,l?l.value:undefined);if(E(r,i,e)){var a;return(a=t==null?void 0:t.filter((t=>t.id!==e.id)))!=null?a:[]}const s={id:e.id,value:i};if(l){var u;return(u=t==null?void 0:t.map((t=>{if(t.id===e.id){return s}return t})))!=null?u:[]}if(t!=null&&t.length){return[...t,s]}return[s]}))}},createRow:(e,t)=>{e.columnFilters={};e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns();const r=e=>{var r;return(r=o(t,e))==null?void 0:r.filter((e=>{const t=n.find((t=>t.id===e.id));if(t){const n=t.getFilterFn();if(E(n,e.value,t)){return false}}return true}))};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)};e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])};e.getPreFilteredRowModel=()=>e.getCoreRowModel();e.getFilteredRowModel=()=>{if(!e._getFilteredRowModel&&e.options.getFilteredRowModel){e._getFilteredRowModel=e.options.getFilteredRowModel(e)}if(e.options.manualFiltering||!e._getFilteredRowModel){return e.getPreFilteredRowModel()}return e._getFilteredRowModel()}}};function E(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):false)||typeof t==="undefined"||typeof t==="string"&&!t}const D=(e,t,n)=>n.reduce(((t,n)=>{const r=n.getValue(e);return t+(typeof r==="number"?r:0)}),0);const _=(e,t,n)=>{let r;n.forEach((t=>{const n=t.getValue(e);if(n!=null&&(r>n||r===undefined&&n>=n)){r=n}}));return r};const P=(e,t,n)=>{let r;n.forEach((t=>{const n=t.getValue(e);if(n!=null&&(r<n||r===undefined&&n>=n)){r=n}}));return r};const T=(e,t,n)=>{let r;let l;n.forEach((t=>{const n=t.getValue(e);if(n!=null){if(r===undefined){if(n>=n)r=l=n}else{if(r>n)r=n;if(l<n)l=n}}}));return[r,l]};const j=(e,t)=>{let n=0;let r=0;t.forEach((t=>{let l=t.getValue(e);if(l!=null&&(l=+l)>=l){++n,r+=l}}));if(n)return r/n;return};const V=(e,t)=>{if(!t.length){return}const n=t.map((t=>t.getValue(e)));if(!s(n)){return}if(n.length===1){return n[0]}const r=Math.floor(n.length/2);const l=n.sort(((e,t)=>e-t));return n.length%2!==0?l[r]:(l[r-1]+l[r])/2};const N=(e,t)=>Array.from(new Set(t.map((t=>t.getValue(e)))).values());const $=(e,t)=>new Set(t.map((t=>t.getValue(e)))).size;const A=(e,t)=>t.length;const G={sum:D,min:_,max:P,extent:T,mean:j,median:V,unique:N,uniqueCount:$,count:A};const L={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:i("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping((t=>{if(t!=null&&t.includes(e.id)){return t.filter((t=>t!==e.id))}return[...t!=null?t:[],e.id]}))};e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:true)&&((r=t.options.enableGrouping)!=null?r:true)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)};e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)};e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)};e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{if(!t)return;e.toggleGrouping()}};e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0];const r=n==null?void 0:n.getValue(e.id);if(typeof r==="number"){return G.sum}if(Object.prototype.toString.call(r)==="[object Date]"){return G.extent}};e.getAggregationFn=()=>{var n,r;if(!e){throw new Error}return a(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:G[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t);e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])};e.getPreGroupedRowModel=()=>e.getFilteredRowModel();e.getGroupedRowModel=()=>{if(!e._getGroupedRowModel&&e.options.getGroupedRowModel){e._getGroupedRowModel=e.options.getGroupedRowModel(e)}if(e.options.manualGrouping||!e._getGroupedRowModel){return e.getPreGroupedRowModel()}return e._getGroupedRowModel()}},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId;e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n)){return e._groupingValuesCache[n]}const r=t.getColumn(n);if(!(r!=null&&r.columnDef.getGroupingValue)){return e.getValue(n)}e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original);return e._groupingValuesCache[n]};e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId;e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped();e.getIsAggregated=()=>{var t;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((t=n.subRows)!=null&&t.length)}}};function H(e,t,n){if(!(t!=null&&t.length)||!n){return e}const r=e.filter((e=>!t.includes(e.id)));if(n==="remove"){return r}const l=t.map((t=>e.find((e=>e.id===t)))).filter(Boolean);return[...l,...r]}const q={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:i("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=d((e=>[ne(t,e)]),(t=>t.findIndex((t=>t.id===e.id))),c(t.options,"debugColumns"));e.getIsFirstColumn=n=>{var r;const l=ne(t,n);return((r=l[0])==null?void 0:r.id)===e.id};e.getIsLastColumn=n=>{var r;const l=ne(t,n);return((r=l[l.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t);e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])};e._getOrderColumnsFn=d((()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode]),((e,t,n)=>r=>{let l=[];if(!(e!=null&&e.length)){l=r}else{const t=[...e];const n=[...r];while(n.length&&t.length){const e=t.shift();const r=n.findIndex((t=>t.id===e));if(r>-1){l.push(n.splice(r,1)[0])}}l=[...l,...n]}return H(l,t,n)}),c(e.options,"debugTable"))}};const J=()=>({left:[],right:[]});const U={getInitialState:e=>({columnPinning:J(),...e}),getDefaultOptions:e=>({onColumnPinningChange:i("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map((e=>e.id)).filter(Boolean);t.setColumnPinning((e=>{var t,l;if(n==="right"){var o,i;return{left:((o=e==null?void 0:e.left)!=null?o:[]).filter((e=>!(r!=null&&r.includes(e)))),right:[...((i=e==null?void 0:e.right)!=null?i:[]).filter((e=>!(r!=null&&r.includes(e)))),...r]}}if(n==="left"){var a,s;return{left:[...((a=e==null?void 0:e.left)!=null?a:[]).filter((e=>!(r!=null&&r.includes(e)))),...r],right:((s=e==null?void 0:e.right)!=null?s:[]).filter((e=>!(r!=null&&r.includes(e))))}}return{left:((t=e==null?void 0:e.left)!=null?t:[]).filter((e=>!(r!=null&&r.includes(e)))),right:((l=e==null?void 0:e.right)!=null?l:[]).filter((e=>!(r!=null&&r.includes(e))))}}))};e.getCanPin=()=>{const n=e.getLeafColumns();return n.some((e=>{var n,r,l;return((n=e.columnDef.enablePinning)!=null?n:true)&&((r=(l=t.options.enableColumnPinning)!=null?l:t.options.enablePinning)!=null?r:true)}))};e.getIsPinned=()=>{const n=e.getLeafColumns().map((e=>e.id));const{left:r,right:l}=t.getState().columnPinning;const o=n.some((e=>r==null?void 0:r.includes(e)));const i=n.some((e=>l==null?void 0:l.includes(e)));return o?"left":i?"right":false};e.getPinnedIndex=()=>{var n,r;const l=e.getIsPinned();return l?(n=(r=t.getState().columnPinning)==null||(r=r[l])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=d((()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right]),((e,t,n)=>{const r=[...t!=null?t:[],...n!=null?n:[]];return e.filter((e=>!r.includes(e.column.id)))}),c(t.options,"debugRows"));e.getLeftVisibleCells=d((()=>[e._getAllVisibleCells(),t.getState().columnPinning.left]),((e,t)=>{const n=(t!=null?t:[]).map((t=>e.find((e=>e.column.id===t)))).filter(Boolean).map((e=>({...e,position:"left"})));return n}),c(t.options,"debugRows"));e.getRightVisibleCells=d((()=>[e._getAllVisibleCells(),t.getState().columnPinning.right]),((e,t)=>{const n=(t!=null?t:[]).map((t=>e.find((e=>e.column.id===t)))).filter(Boolean).map((e=>({...e,position:"right"})));return n}),c(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t);e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?J():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:J())};e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var l,o;return Boolean(((l=r.left)==null?void 0:l.length)||((o=r.right)==null?void 0:o.length))}return Boolean((n=r[t])==null?void 0:n.length)};e.getLeftLeafColumns=d((()=>[e.getAllLeafColumns(),e.getState().columnPinning.left]),((e,t)=>(t!=null?t:[]).map((t=>e.find((e=>e.id===t)))).filter(Boolean)),c(e.options,"debugColumns"));e.getRightLeafColumns=d((()=>[e.getAllLeafColumns(),e.getState().columnPinning.right]),((e,t)=>(t!=null?t:[]).map((t=>e.find((e=>e.id===t)))).filter(Boolean)),c(e.options,"debugColumns"));e.getCenterLeafColumns=d((()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((e,t,n)=>{const r=[...t!=null?t:[],...n!=null?n:[]];return e.filter((e=>!r.includes(e.id)))}),c(e.options,"debugColumns"))}};function K(e){return e||(typeof document!=="undefined"?document:null)}const Y={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER};const Q=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:false,columnSizingStart:[]});const W={getDefaultColumnDef:()=>Y,getInitialState:e=>({columnSizing:{},columnSizingInfo:Q(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:i("columnSizing",e),onColumnSizingInfoChange:i("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,l;const o=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:Y.minSize,(r=o!=null?o:e.columnDef.size)!=null?r:Y.size),(l=e.columnDef.maxSize)!=null?l:Y.maxSize)};e.getStart=d((e=>[e,ne(t,e),t.getState().columnSizing]),((t,n)=>n.slice(0,e.getIndex(t)).reduce(((e,t)=>e+t.getSize()),0)),c(t.options,"debugColumns"));e.getAfter=d((e=>[e,ne(t,e),t.getState().columnSizing]),((t,n)=>n.slice(e.getIndex(t)+1).reduce(((e,t)=>e+t.getSize()),0)),c(t.options,"debugColumns"));e.resetSize=()=>{t.setColumnSizing((t=>{let{[e.id]:n,...r}=t;return r}))};e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:true)&&((r=t.options.enableColumnResizing)!=null?r:true)};e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let t=0;const n=e=>{if(e.subHeaders.length){e.subHeaders.forEach(n)}else{var r;t+=(r=e.column.getSize())!=null?r:0}};n(e);return t};e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0};e.getResizeHandler=n=>{const r=t.getColumn(e.column.id);const l=r==null?void 0:r.getCanResize();return o=>{if(!r||!l){return}o.persist==null||o.persist();if(ee(o)){if(o.touches&&o.touches.length>1){return}}const i=e.getSize();const a=e?e.getLeafHeaders().map((e=>[e.column.id,e.column.getSize()])):[[r.id,r.getSize()]];const s=ee(o)?Math.round(o.touches[0].clientX):o.clientX;const u={};const d=(e,n)=>{if(typeof n!=="number"){return}t.setColumnSizingInfo((e=>{var r,l;const o=t.options.columnResizeDirection==="rtl"?-1:1;const i=(n-((r=e==null?void 0:e.startOffset)!=null?r:0))*o;const a=Math.max(i/((l=e==null?void 0:e.startSize)!=null?l:0),-.999999);e.columnSizingStart.forEach((e=>{let[t,n]=e;u[t]=Math.round(Math.max(n+n*a,0)*100)/100}));return{...e,deltaOffset:i,deltaPercentage:a}}));if(t.options.columnResizeMode==="onChange"||e==="end"){t.setColumnSizing((e=>({...e,...u})))}};const c=e=>d("move",e);const f=e=>{d("end",e);t.setColumnSizingInfo((e=>({...e,isResizingColumn:false,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]})))};const g=K(n);const h={moveHandler:e=>c(e.clientX),upHandler:e=>{g==null||g.removeEventListener("mousemove",h.moveHandler);g==null||g.removeEventListener("mouseup",h.upHandler);f(e.clientX)}};const p={moveHandler:e=>{if(e.cancelable){e.preventDefault();e.stopPropagation()}c(e.touches[0].clientX);return false},upHandler:e=>{var t;g==null||g.removeEventListener("touchmove",p.moveHandler);g==null||g.removeEventListener("touchend",p.upHandler);if(e.cancelable){e.preventDefault();e.stopPropagation()}f((t=e.touches[0])==null?void 0:t.clientX)}};const v=Z()?{passive:false}:false;if(ee(o)){g==null||g.addEventListener("touchmove",p.moveHandler,v);g==null||g.addEventListener("touchend",p.upHandler,v)}else{g==null||g.addEventListener("mousemove",h.moveHandler,v);g==null||g.addEventListener("mouseup",h.upHandler,v)}t.setColumnSizingInfo((e=>({...e,startOffset:s,startSize:i,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id})))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t);e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t);e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})};e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?Q():(n=e.initialState.columnSizingInfo)!=null?n:Q())};e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))!=null?t:0};e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))!=null?t:0};e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))!=null?t:0};e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))!=null?t:0}}};let X=null;function Z(){if(typeof X==="boolean")return X;let e=false;try{const t={get passive(){e=true;return false}};const n=()=>{};window.addEventListener("test",n,t);window.removeEventListener("test",n)}catch(t){e=false}X=e;return X}function ee(e){return e.type==="touchstart"}const te={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:i("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{if(e.getCanHide()){t.setColumnVisibility((t=>({...t,[e.id]:n!=null?n:!e.getIsVisible()})))}};e.getIsVisible=()=>{var n,r;const l=e.columns;return(n=l.length?l.some((e=>e.getIsVisible())):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:true};e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:true)&&((r=t.options.enableHiding)!=null?r:true)};e.getToggleVisibilityHandler=()=>t=>{e.toggleVisibility==null||e.toggleVisibility(t.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=d((()=>[e.getAllCells(),t.getState().columnVisibility]),(e=>e.filter((e=>e.column.getIsVisible()))),c(t.options,"debugRows"));e.getVisibleCells=d((()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()]),((e,t,n)=>[...e,...t,...n]),c(t.options,"debugRows"))},createTable:e=>{const t=(t,n)=>d((()=>[n(),n().filter((e=>e.getIsVisible())).map((e=>e.id)).join("_")]),(e=>e.filter((e=>e.getIsVisible==null?void 0:e.getIsVisible()))),c(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",(()=>e.getAllFlatColumns()));e.getVisibleLeafColumns=t("getVisibleLeafColumns",(()=>e.getAllLeafColumns()));e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",(()=>e.getLeftLeafColumns()));e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",(()=>e.getRightLeafColumns()));e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",(()=>e.getCenterLeafColumns()));e.setColumnVisibility=t=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(t);e.resetColumnVisibility=t=>{var n;e.setColumnVisibility(t?{}:(n=e.initialState.columnVisibility)!=null?n:{})};e.toggleAllColumnsVisible=t=>{var n;t=(n=t)!=null?n:!e.getIsAllColumnsVisible();e.setColumnVisibility(e.getAllLeafColumns().reduce(((e,n)=>({...e,[n.id]:!t?!(n.getCanHide!=null&&n.getCanHide()):t})),{}))};e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some((e=>!(e.getIsVisible!=null&&e.getIsVisible())));e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some((e=>e.getIsVisible==null?void 0:e.getIsVisible()));e.getToggleAllColumnsVisibilityHandler=()=>t=>{var n;e.toggleAllColumnsVisible((n=t.target)==null?void 0:n.checked)}}};function ne(e,t){return!t?e.getVisibleLeafColumns():t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns()}const re={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__");e.getGlobalFacetedRowModel=()=>{if(e.options.manualFiltering||!e._getGlobalFacetedRowModel){return e.getPreFilteredRowModel()}return e._getGlobalFacetedRowModel()};e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__");e.getGlobalFacetedUniqueValues=()=>{if(!e._getGlobalFacetedUniqueValues){return new Map}return e._getGlobalFacetedUniqueValues()};e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__");e.getGlobalFacetedMinMaxValues=()=>{if(!e._getGlobalFacetedMinMaxValues){return}return e._getGlobalFacetedMinMaxValues()}}};const le={getInitialState:e=>({globalFilter:undefined,...e}),getDefaultOptions:e=>({onGlobalFilterChange:i("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r==="string"||typeof r==="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,l,o;return((n=e.columnDef.enableGlobalFilter)!=null?n:true)&&((r=t.options.enableGlobalFilter)!=null?r:true)&&((l=t.options.enableFilters)!=null?l:true)&&((o=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?o:true)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>B.includesString;e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return a(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:B[r]};e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)};e.resetGlobalFilter=t=>{e.setGlobalFilter(t?undefined:e.initialState.globalFilter)}}};const oe={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:i("expanded",e),paginateExpandedRows:true}),createTable:e=>{let t=false;let n=false;e._autoResetExpanded=()=>{var r,l;if(!t){e._queue((()=>{t=true}));return}if((r=(l=e.options.autoResetAll)!=null?l:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=true;e._queue((()=>{e.resetExpanded();n=false}))}};e.setExpanded=t=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(t);e.toggleAllRowsExpanded=t=>{if(t!=null?t:!e.getIsAllRowsExpanded()){e.setExpanded(true)}else{e.setExpanded({})}};e.resetExpanded=t=>{var n,r;e.setExpanded(t?{}:(n=(r=e.initialState)==null?void 0:r.expanded)!=null?n:{})};e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some((e=>e.getCanExpand()));e.getToggleAllRowsExpandedHandler=()=>t=>{t.persist==null||t.persist();e.toggleAllRowsExpanded()};e.getIsSomeRowsExpanded=()=>{const t=e.getState().expanded;return t===true||Object.values(t).some(Boolean)};e.getIsAllRowsExpanded=()=>{const t=e.getState().expanded;if(typeof t==="boolean"){return t===true}if(!Object.keys(t).length){return false}if(e.getRowModel().flatRows.some((e=>!e.getIsExpanded()))){return false}return true};e.getExpandedDepth=()=>{let t=0;const n=e.getState().expanded===true?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded);n.forEach((e=>{const n=e.split(".");t=Math.max(t,n.length)}));return t};e.getPreExpandedRowModel=()=>e.getSortedRowModel();e.getExpandedRowModel=()=>{if(!e._getExpandedRowModel&&e.options.getExpandedRowModel){e._getExpandedRowModel=e.options.getExpandedRowModel(e)}if(e.options.manualExpanding||!e._getExpandedRowModel){return e.getPreExpandedRowModel()}return e._getExpandedRowModel()}},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded((r=>{var l;const o=r===true?true:!!(r!=null&&r[e.id]);let i={};if(r===true){Object.keys(t.getRowModel().rowsById).forEach((e=>{i[e]=true}))}else{i=r}n=(l=n)!=null?l:!o;if(!o&&n){return{...i,[e.id]:true}}if(o&&!n){const{[e.id]:t,...n}=i;return n}return r}))};e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===true||(r==null?void 0:r[e.id]))};e.getCanExpand=()=>{var n,r,l;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:true)&&!!((l=e.subRows)!=null&&l.length)};e.getIsAllParentsExpanded=()=>{let n=true;let r=e;while(n&&r.parentId){r=t.getRow(r.parentId,true);n=r.getIsExpanded()}return n};e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{if(!t)return;e.toggleExpanded()}}}};const ie=0;const ae=10;const se=()=>({pageIndex:ie,pageSize:ae});const ue={getInitialState:e=>({...e,pagination:{...se(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:i("pagination",e)}),createTable:e=>{let t=false;let n=false;e._autoResetPageIndex=()=>{var r,l;if(!t){e._queue((()=>{t=true}));return}if((r=(l=e.options.autoResetAll)!=null?l:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=true;e._queue((()=>{e.resetPageIndex();n=false}))}};e.setPagination=t=>{const n=e=>{let n=o(t,e);return n};return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(n)};e.resetPagination=t=>{var n;e.setPagination(t?se():(n=e.initialState.pagination)!=null?n:se())};e.setPageIndex=t=>{e.setPagination((n=>{let r=o(t,n.pageIndex);const l=typeof e.options.pageCount==="undefined"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;r=Math.max(0,Math.min(r,l));return{...n,pageIndex:r}}))};e.resetPageIndex=t=>{var n,r;e.setPageIndex(t?ie:(n=(r=e.initialState)==null||(r=r.pagination)==null?void 0:r.pageIndex)!=null?n:ie)};e.resetPageSize=t=>{var n,r;e.setPageSize(t?ae:(n=(r=e.initialState)==null||(r=r.pagination)==null?void 0:r.pageSize)!=null?n:ae)};e.setPageSize=t=>{e.setPagination((e=>{const n=Math.max(1,o(t,e.pageSize));const r=e.pageSize*e.pageIndex;const l=Math.floor(r/n);return{...e,pageIndex:l,pageSize:n}}))};e.setPageCount=t=>e.setPagination((n=>{var r;let l=o(t,(r=e.options.pageCount)!=null?r:-1);if(typeof l==="number"){l=Math.max(-1,l)}return{...n,pageCount:l}}));e.getPageOptions=d((()=>[e.getPageCount()]),(e=>{let t=[];if(e&&e>0){t=[...new Array(e)].fill(null).map(((e,t)=>t))}return t}),c(e.options,"debugTable"));e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0;e.getCanNextPage=()=>{const{pageIndex:t}=e.getState().pagination;const n=e.getPageCount();if(n===-1){return true}if(n===0){return false}return t<n-1};e.previousPage=()=>e.setPageIndex((e=>e-1));e.nextPage=()=>e.setPageIndex((e=>e+1));e.firstPage=()=>e.setPageIndex(0);e.lastPage=()=>e.setPageIndex(e.getPageCount()-1);e.getPrePaginationRowModel=()=>e.getExpandedRowModel();e.getPaginationRowModel=()=>{if(!e._getPaginationRowModel&&e.options.getPaginationRowModel){e._getPaginationRowModel=e.options.getPaginationRowModel(e)}if(e.options.manualPagination||!e._getPaginationRowModel){return e.getPrePaginationRowModel()}return e._getPaginationRowModel()};e.getPageCount=()=>{var t;return(t=e.options.pageCount)!=null?t:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)};e.getRowCount=()=>{var t;return(t=e.options.rowCount)!=null?t:e.getPrePaginationRowModel().rows.length}}};const de=()=>({top:[],bottom:[]});const ce={getInitialState:e=>({rowPinning:de(),...e}),getDefaultOptions:e=>({onRowPinningChange:i("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,l)=>{const o=r?e.getLeafRows().map((e=>{let{id:t}=e;return t})):[];const i=l?e.getParentRows().map((e=>{let{id:t}=e;return t})):[];const a=new Set([...i,e.id,...o]);t.setRowPinning((e=>{var t,r;if(n==="bottom"){var l,o;return{top:((l=e==null?void 0:e.top)!=null?l:[]).filter((e=>!(a!=null&&a.has(e)))),bottom:[...((o=e==null?void 0:e.bottom)!=null?o:[]).filter((e=>!(a!=null&&a.has(e)))),...Array.from(a)]}}if(n==="top"){var i,s;return{top:[...((i=e==null?void 0:e.top)!=null?i:[]).filter((e=>!(a!=null&&a.has(e)))),...Array.from(a)],bottom:((s=e==null?void 0:e.bottom)!=null?s:[]).filter((e=>!(a!=null&&a.has(e))))}}return{top:((t=e==null?void 0:e.top)!=null?t:[]).filter((e=>!(a!=null&&a.has(e)))),bottom:((r=e==null?void 0:e.bottom)!=null?r:[]).filter((e=>!(a!=null&&a.has(e))))}}))};e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:l}=t.options;if(typeof r==="function"){return r(e)}return(n=r!=null?r:l)!=null?n:true};e.getIsPinned=()=>{const n=[e.id];const{top:r,bottom:l}=t.getState().rowPinning;const o=n.some((e=>r==null?void 0:r.includes(e)));const i=n.some((e=>l==null?void 0:l.includes(e)));return o?"top":i?"bottom":false};e.getPinnedIndex=()=>{var n,r;const l=e.getIsPinned();if(!l)return-1;const o=(n=l==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map((e=>{let{id:t}=e;return t}));return(r=o==null?void 0:o.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t);e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?de():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:de())};e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var l,o;return Boolean(((l=r.top)==null?void 0:l.length)||((o=r.bottom)==null?void 0:o.length))}return Boolean((n=r[t])==null?void 0:n.length)};e._getPinnedRows=(t,n,r)=>{var l;const o=((l=e.options.keepPinnedRows)!=null?l:true)?(n!=null?n:[]).map((t=>{const n=e.getRow(t,true);return n.getIsAllParentsExpanded()?n:null})):(n!=null?n:[]).map((e=>t.find((t=>t.id===e))));return o.filter(Boolean).map((e=>({...e,position:r})))};e.getTopRows=d((()=>[e.getRowModel().rows,e.getState().rowPinning.top]),((t,n)=>e._getPinnedRows(t,n,"top")),c(e.options,"debugRows"));e.getBottomRows=d((()=>[e.getRowModel().rows,e.getState().rowPinning.bottom]),((t,n)=>e._getPinnedRows(t,n,"bottom")),c(e.options,"debugRows"));e.getCenterRows=d((()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom]),((e,t,n)=>{const r=new Set([...t!=null?t:[],...n!=null?n:[]]);return e.filter((e=>!r.has(e.id)))}),c(e.options,"debugRows"))}};const fe={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:i("rowSelection",e),enableRowSelection:true,enableMultiRowSelection:true,enableSubRowSelection:true}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t);e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})};e.toggleAllRowsSelected=t=>{e.setRowSelection((n=>{t=typeof t!=="undefined"?t:!e.getIsAllRowsSelected();const r={...n};const l=e.getPreGroupedRowModel().flatRows;if(t){l.forEach((e=>{if(!e.getCanSelect()){return}r[e.id]=true}))}else{l.forEach((e=>{delete r[e.id]}))}return r}))};e.toggleAllPageRowsSelected=t=>e.setRowSelection((n=>{const r=typeof t!=="undefined"?t:!e.getIsAllPageRowsSelected();const l={...n};e.getRowModel().rows.forEach((t=>{ge(l,t.id,r,true,e)}));return l}));e.getPreSelectedRowModel=()=>e.getCoreRowModel();e.getSelectedRowModel=d((()=>[e.getState().rowSelection,e.getCoreRowModel()]),((t,n)=>{if(!Object.keys(t).length){return{rows:[],flatRows:[],rowsById:{}}}return he(e,n)}),c(e.options,"debugTable"));e.getFilteredSelectedRowModel=d((()=>[e.getState().rowSelection,e.getFilteredRowModel()]),((t,n)=>{if(!Object.keys(t).length){return{rows:[],flatRows:[],rowsById:{}}}return he(e,n)}),c(e.options,"debugTable"));e.getGroupedSelectedRowModel=d((()=>[e.getState().rowSelection,e.getSortedRowModel()]),((t,n)=>{if(!Object.keys(t).length){return{rows:[],flatRows:[],rowsById:{}}}return he(e,n)}),c(e.options,"debugTable"));e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows;const{rowSelection:n}=e.getState();let r=Boolean(t.length&&Object.keys(n).length);if(r){if(t.some((e=>e.getCanSelect()&&!n[e.id]))){r=false}}return r};e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter((e=>e.getCanSelect()));const{rowSelection:n}=e.getState();let r=!!t.length;if(r&&t.some((e=>!n[e.id]))){r=false}return r};e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length};e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?false:t.filter((e=>e.getCanSelect())).some((e=>e.getIsSelected()||e.getIsSomeSelected()))};e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)};e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const l=e.getIsSelected();t.setRowSelection((o=>{var i;n=typeof n!=="undefined"?n:!l;if(e.getCanSelect()&&l===n){return o}const a={...o};ge(a,e.id,n,(i=r==null?void 0:r.selectChildren)!=null?i:true,t);return a}))};e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return pe(e,n)};e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return ve(e,n)==="some"};e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return ve(e,n)==="all"};e.getCanSelect=()=>{var n;if(typeof t.options.enableRowSelection==="function"){return t.options.enableRowSelection(e)}return(n=t.options.enableRowSelection)!=null?n:true};e.getCanSelectSubRows=()=>{var n;if(typeof t.options.enableSubRowSelection==="function"){return t.options.enableSubRowSelection(e)}return(n=t.options.enableSubRowSelection)!=null?n:true};e.getCanMultiSelect=()=>{var n;if(typeof t.options.enableMultiRowSelection==="function"){return t.options.enableMultiRowSelection(e)}return(n=t.options.enableMultiRowSelection)!=null?n:true};e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return n=>{var r;if(!t)return;e.toggleSelected((r=n.target)==null?void 0:r.checked)}}}};const ge=(e,t,n,r,l)=>{var o;const i=l.getRow(t,true);if(n){if(!i.getCanMultiSelect()){Object.keys(e).forEach((t=>delete e[t]))}if(i.getCanSelect()){e[t]=true}}else{delete e[t]}if(r&&(o=i.subRows)!=null&&o.length&&i.getCanSelectSubRows()){i.subRows.forEach((t=>ge(e,t.id,n,r,l)))}};function he(e,t){const n=e.getState().rowSelection;const r=[];const l={};const o=function(e,t){return e.map((e=>{var t;const i=pe(e,n);if(i){r.push(e);l[e.id]=e}if((t=e.subRows)!=null&&t.length){e={...e,subRows:o(e.subRows)}}if(i){return e}})).filter(Boolean)};return{rows:o(t.rows),flatRows:r,rowsById:l}}function pe(e,t){var n;return(n=t[e.id])!=null?n:false}function ve(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return false;let l=true;let o=false;e.subRows.forEach((e=>{if(o&&!l){return}if(e.getCanSelect()){if(pe(e,t)){o=true}else{l=false}}if(e.subRows&&e.subRows.length){const n=ve(e,t);if(n==="all"){o=true}else if(n==="some"){o=true;l=false}else{l=false}}}));return l?"all":o?"some":false}const be=/([0-9]+)/gm;const me=(e,t,n)=>Ie(Re(e.getValue(n)).toLowerCase(),Re(t.getValue(n)).toLowerCase());const we=(e,t,n)=>Ie(Re(e.getValue(n)),Re(t.getValue(n)));const xe=(e,t,n)=>ke(Re(e.getValue(n)).toLowerCase(),Re(t.getValue(n)).toLowerCase());const ye=(e,t,n)=>ke(Re(e.getValue(n)),Re(t.getValue(n)));const Ce=(e,t,n)=>{const r=e.getValue(n);const l=t.getValue(n);return r>l?1:r<l?-1:0};const Se=(e,t,n)=>ke(e.getValue(n),t.getValue(n));function ke(e,t){return e===t?0:e>t?1:-1}function Re(e){if(typeof e==="number"){if(isNaN(e)||e===Infinity||e===-Infinity){return""}return String(e)}if(typeof e==="string"){return e}return""}function Ie(e,t){const n=e.split(be).filter(Boolean);const r=t.split(be).filter(Boolean);while(n.length&&r.length){const e=n.shift();const t=r.shift();const l=parseInt(e,10);const o=parseInt(t,10);const i=[l,o].sort();if(isNaN(i[0])){if(e>t){return 1}if(t>e){return-1}continue}if(isNaN(i[1])){return isNaN(l)?-1:1}if(l>o){return 1}if(o>l){return-1}}return n.length-r.length}const ze={alphanumeric:me,alphanumericCaseSensitive:we,text:xe,textCaseSensitive:ye,datetime:Ce,basic:Se};const Oe={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:i("sorting",e),isMultiSortEvent:e=>e.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=false;for(const t of n){const n=t==null?void 0:t.getValue(e.id);if(Object.prototype.toString.call(n)==="[object Date]"){return ze.datetime}if(typeof n==="string"){r=true;if(n.split(be).length>1){return ze.alphanumeric}}}if(r){return ze.text}return ze.basic};e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];const r=n==null?void 0:n.getValue(e.id);if(typeof r==="string"){return"asc"}return"desc"};e.getSortingFn=()=>{var n,r;if(!e){throw new Error}return a(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:ze[e.columnDef.sortingFn]};e.toggleSorting=(n,r)=>{const l=e.getNextSortingOrder();const o=typeof n!=="undefined"&&n!==null;t.setSorting((i=>{const a=i==null?void 0:i.find((t=>t.id===e.id));const s=i==null?void 0:i.findIndex((t=>t.id===e.id));let u=[];let d;let c=o?n:l==="desc";if(i!=null&&i.length&&e.getCanMultiSort()&&r){if(a){d="toggle"}else{d="add"}}else{if(i!=null&&i.length&&s!==i.length-1){d="replace"}else if(a){d="toggle"}else{d="replace"}}if(d==="toggle"){if(!o){if(!l){d="remove"}}}if(d==="add"){var f;u=[...i,{id:e.id,desc:c}];u.splice(0,u.length-((f=t.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else if(d==="toggle"){u=i.map((t=>{if(t.id===e.id){return{...t,desc:c}}return t}))}else if(d==="remove"){u=i.filter((t=>t.id!==e.id))}else{u=[{id:e.id,desc:c}]}return u}))};e.getFirstSortDir=()=>{var n,r;const l=(n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc";return l?"desc":"asc"};e.getNextSortingOrder=n=>{var r,l;const o=e.getFirstSortDir();const i=e.getIsSorted();if(!i){return o}if(i!==o&&((r=t.options.enableSortingRemoval)!=null?r:true)&&(n?(l=t.options.enableMultiRemove)!=null?l:true:true)){return false}return i==="desc"?"asc":"desc"};e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:true)&&((r=t.options.enableSorting)!=null?r:true)&&!!e.accessorFn};e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn};e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find((t=>t.id===e.id));return!r?false:r.desc?"desc":"asc"};e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex((t=>t.id===e.id)))!=null?n:-1};e.clearSorting=()=>{t.setSorting((t=>t!=null&&t.length?t.filter((t=>t.id!==e.id)):[]))};e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{if(!n)return;r.persist==null||r.persist();e.toggleSorting==null||e.toggleSorting(undefined,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):false)}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t);e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])};e.getPreSortedRowModel=()=>e.getGroupedRowModel();e.getSortedRowModel=()=>{if(!e._getSortedRowModel&&e.options.getSortedRowModel){e._getSortedRowModel=e.options.getSortedRowModel(e)}if(e.options.manualSorting||!e._getSortedRowModel){return e.getPreSortedRowModel()}return e._getSortedRowModel()}}};const Be=[v,te,q,U,w,M,re,le,Oe,L,oe,ue,ce,fe,W];function Fe(e){var t,n;const r=[...Be,...(t=e._features)!=null?t:[]];let l={_features:r};const i=l._features.reduce(((e,t)=>Object.assign(e,t.getDefaultOptions==null?void 0:t.getDefaultOptions(l))),{});const a=e=>{if(l.options.mergeOptions){return l.options.mergeOptions(i,e)}return{...i,...e}};const s={};let u={...s,...(n=e.initialState)!=null?n:{}};l._features.forEach((e=>{var t;u=(t=e.getInitialState==null?void 0:e.getInitialState(u))!=null?t:u}));const f=[];let h=false;const p={_features:r,options:{...i,...e},initialState:u,_queue:e=>{f.push(e);if(!h){h=true;Promise.resolve().then((()=>{while(f.length){f.shift()()}h=false})).catch((e=>setTimeout((()=>{throw e}))))}},reset:()=>{l.setState(l.initialState)},setOptions:e=>{const t=o(e,l.options);l.options=a(t)},getState:()=>l.options.state,setState:e=>{l.options.onStateChange==null||l.options.onStateChange(e)},_getRowId:(e,t,n)=>{var r;return(r=l.options.getRowId==null?void 0:l.options.getRowId(e,t,n))!=null?r:`${n?[n.id,t].join("."):t}`},getCoreRowModel:()=>{if(!l._getCoreRowModel){l._getCoreRowModel=l.options.getCoreRowModel(l)}return l._getCoreRowModel()},getRowModel:()=>l.getPaginationRowModel(),getRow:(e,t)=>{let n=(t?l.getPrePaginationRowModel():l.getRowModel()).rowsById[e];if(!n){n=l.getCoreRowModel().rowsById[e];if(!n){throw new Error}}return n},_getDefaultColumnDef:d((()=>[l.options.defaultColumn]),(e=>{var t;e=(t=e)!=null?t:{};return{header:e=>{const t=e.header.column.columnDef;if(t.accessorKey){return t.accessorKey}if(t.accessorFn){return t.id}return null},cell:e=>{var t,n;return(t=(n=e.renderValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},...l._features.reduce(((e,t)=>Object.assign(e,t.getDefaultColumnDef==null?void 0:t.getDefaultColumnDef())),{}),...e}}),c(e,"debugColumns")),_getColumnDefs:()=>l.options.columns,getAllColumns:d((()=>[l._getColumnDefs()]),(e=>{const t=function(e,n,r){if(r===void 0){r=0}return e.map((e=>{const o=g(l,e,r,n);const i=e;o.columns=i.columns?t(i.columns,o,r+1):[];return o}))};return t(e)}),c(e,"debugColumns")),getAllFlatColumns:d((()=>[l.getAllColumns()]),(e=>e.flatMap((e=>e.getFlatColumns()))),c(e,"debugColumns")),_getAllFlatColumnsById:d((()=>[l.getAllFlatColumns()]),(e=>e.reduce(((e,t)=>{e[t.id]=t;return e}),{})),c(e,"debugColumns")),getAllLeafColumns:d((()=>[l.getAllColumns(),l._getOrderColumnsFn()]),((e,t)=>{let n=e.flatMap((e=>e.getLeafColumns()));return t(n)}),c(e,"debugColumns")),getColumn:e=>{const t=l._getAllFlatColumnsById()[e];return t}};Object.assign(l,p);for(let e=0;e<l._features.length;e++){const t=l._features[e];t==null||t.createTable==null||t.createTable(l)}return l}function Me(){return e=>d((()=>[e.options.data]),(t=>{const n={rows:[],flatRows:[],rowsById:{}};const r=function(t,l,o){if(l===void 0){l=0}const i=[];for(let s=0;s<t.length;s++){const u=m(e,e._getRowId(t[s],s,o),t[s],s,l,undefined,o==null?void 0:o.id);n.flatRows.push(u);n.rowsById[u.id]=u;i.push(u);if(e.options.getSubRows){var a;u.originalSubRows=e.options.getSubRows(t[s],s);if((a=u.originalSubRows)!=null&&a.length){u.subRows=r(u.originalSubRows,l+1,u)}}}return i};n.rows=r(t);return n}),c(e.options,"debugTable","getRowModel",(()=>e._autoResetPageIndex())))}function Ee(){return e=>d((()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows]),((e,t,n)=>{if(!t.rows.length||e!==true&&!Object.keys(e!=null?e:{}).length){return t}if(!n){return t}return De(t)}),c(e.options,"debugTable"))}function De(e){const t=[];const n=e=>{var r;t.push(e);if((r=e.subRows)!=null&&r.length&&e.getIsExpanded()){e.subRows.forEach(n)}};e.rows.forEach(n);return{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function _e(e,t,n){if(n.options.filterFromLeafRows){return Pe(e,t,n)}return Te(e,t,n)}function Pe(e,t,n){var r;const l=[];const o={};const i=(r=n.options.maxLeafRowFilterDepth)!=null?r:100;const a=function(e,r){if(r===void 0){r=0}const s=[];for(let d=0;d<e.length;d++){var u;let c=e[d];const f=m(n,c.id,c.original,c.index,c.depth,undefined,c.parentId);f.columnFilters=c.columnFilters;if((u=c.subRows)!=null&&u.length&&r<i){f.subRows=a(c.subRows,r+1);c=f;if(t(c)&&!f.subRows.length){s.push(c);o[c.id]=c;l.push(c);continue}if(t(c)||f.subRows.length){s.push(c);o[c.id]=c;l.push(c);continue}}else{c=f;if(t(c)){s.push(c);o[c.id]=c;l.push(c)}}}return s};return{rows:a(e),flatRows:l,rowsById:o}}function Te(e,t,n){var r;const l=[];const o={};const i=(r=n.options.maxLeafRowFilterDepth)!=null?r:100;const a=function(e,r){if(r===void 0){r=0}const s=[];for(let d=0;d<e.length;d++){let c=e[d];const f=t(c);if(f){var u;if((u=c.subRows)!=null&&u.length&&r<i){const e=m(n,c.id,c.original,c.index,c.depth,undefined,c.parentId);e.subRows=a(c.subRows,r+1);c=e}s.push(c);l.push(c);o[c.id]=c}}return s};return{rows:a(e),flatRows:l,rowsById:o}}function je(){return e=>d((()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter]),((t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let e=0;e<t.flatRows.length;e++){t.flatRows[e].columnFilters={};t.flatRows[e].columnFiltersMeta={}}return t}const l=[];const o=[];(n!=null?n:[]).forEach((t=>{var n;const r=e.getColumn(t.id);if(!r){return}const o=r.getFilterFn();if(!o){return}l.push({id:t.id,filterFn:o,resolvedValue:(n=o.resolveFilterValue==null?void 0:o.resolveFilterValue(t.value))!=null?n:t.value})}));const i=(n!=null?n:[]).map((e=>e.id));const a=e.getGlobalFilterFn();const s=e.getAllLeafColumns().filter((e=>e.getCanGlobalFilter()));if(r&&a&&s.length){i.push("__global__");s.forEach((e=>{var t;o.push({id:e.id,filterFn:a,resolvedValue:(t=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?t:r})}))}let u;let d;for(let e=0;e<t.flatRows.length;e++){const n=t.flatRows[e];n.columnFilters={};if(l.length){for(let e=0;e<l.length;e++){u=l[e];const t=u.id;n.columnFilters[t]=u.filterFn(n,t,u.resolvedValue,(e=>{n.columnFiltersMeta[t]=e}))}}if(o.length){for(let e=0;e<o.length;e++){d=o[e];const t=d.id;if(d.filterFn(n,t,d.resolvedValue,(e=>{n.columnFiltersMeta[t]=e}))){n.columnFilters.__global__=true;break}}if(n.columnFilters.__global__!==true){n.columnFilters.__global__=false}}}const c=e=>{for(let t=0;t<i.length;t++){if(e.columnFilters[i[t]]===false){return false}}return true};return _e(t.rows,c,e)}),c(e.options,"debugTable","getFilteredRowModel",(()=>e._autoResetPageIndex())))}function Ve(){return e=>d((()=>[e.getState().grouping,e.getPreGroupedRowModel()]),((t,n)=>{if(!n.rows.length||!t.length){n.rows.forEach((e=>{e.depth=0;e.parentId=undefined}));return n}const r=t.filter((t=>e.getColumn(t)));const l=[];const o={};const i=function(t,n,a){if(n===void 0){n=0}if(n>=r.length){return t.map((e=>{e.depth=n;l.push(e);o[e.id]=e;if(e.subRows){e.subRows=i(e.subRows,n+1,e.id)}return e}))}const s=r[n];const d=Ne(t,s);const c=Array.from(d.entries()).map(((t,d)=>{let[c,f]=t;let g=`${s}:${c}`;g=a?`${a}>${g}`:g;const h=i(f,n+1,g);h.forEach((e=>{e.parentId=g}));const p=n?u(f,(e=>e.subRows)):f;const v=m(e,g,p[0].original,d,n,undefined,a);Object.assign(v,{groupingColumnId:s,groupingValue:c,subRows:h,leafRows:p,getValue:t=>{if(r.includes(t)){if(v._valuesCache.hasOwnProperty(t)){return v._valuesCache[t]}if(f[0]){var n;v._valuesCache[t]=(n=f[0].getValue(t))!=null?n:undefined}return v._valuesCache[t]}if(v._groupingValuesCache.hasOwnProperty(t)){return v._groupingValuesCache[t]}const l=e.getColumn(t);const o=l==null?void 0:l.getAggregationFn();if(o){v._groupingValuesCache[t]=o(t,p,f);return v._groupingValuesCache[t]}}});h.forEach((e=>{l.push(e);o[e.id]=e}));return v}));return c};const a=i(n.rows,0);a.forEach((e=>{l.push(e);o[e.id]=e}));return{rows:a,flatRows:l,rowsById:o}}),c(e.options,"debugTable","getGroupedRowModel",(()=>{e._queue((()=>{e._autoResetExpanded();e._autoResetPageIndex()}))})))}function Ne(e,t){const n=new Map;return e.reduce(((e,n)=>{const r=`${n.getGroupingValue(t)}`;const l=e.get(r);if(!l){e.set(r,[n])}else{l.push(n)}return e}),n)}function $e(e){return e=>d((()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?undefined:e.getState().expanded]),((t,n)=>{if(!n.rows.length){return n}const{pageSize:r,pageIndex:l}=t;let{rows:o,flatRows:i,rowsById:a}=n;const s=r*l;const u=s+r;o=o.slice(s,u);let d;if(!e.options.paginateExpandedRows){d=De({rows:o,flatRows:i,rowsById:a})}else{d={rows:o,flatRows:i,rowsById:a}}d.flatRows=[];const c=e=>{d.flatRows.push(e);if(e.subRows.length){e.subRows.forEach(c)}};d.rows.forEach(c);return d}),c(e.options,"debugTable"))}function Ae(){return e=>d((()=>[e.getState().sorting,e.getPreSortedRowModel()]),((t,n)=>{if(!n.rows.length||!(t!=null&&t.length)){return n}const r=e.getState().sorting;const l=[];const o=r.filter((t=>{var n;return(n=e.getColumn(t.id))==null?void 0:n.getCanSort()}));const i={};o.forEach((t=>{const n=e.getColumn(t.id);if(!n)return;i[t.id]={sortUndefined:n.columnDef.sortUndefined,invertSorting:n.columnDef.invertSorting,sortingFn:n.getSortingFn()}}));const a=e=>{const t=e.map((e=>({...e})));t.sort(((e,t)=>{for(let r=0;r<o.length;r+=1){var n;const l=o[r];const a=i[l.id];const s=a.sortUndefined;const u=(n=l==null?void 0:l.desc)!=null?n:false;let d=0;if(s){const n=e.getValue(l.id);const r=t.getValue(l.id);const o=n===undefined;const i=r===undefined;if(o||i){if(s==="first")return o?-1:1;if(s==="last")return o?1:-1;d=o&&i?0:o?s:-s}}if(d===0){d=a.sortingFn(e,t,l.id)}if(d!==0){if(u){d*=-1}if(a.invertSorting){d*=-1}return d}}return e.index-t.index}));t.forEach((e=>{var t;l.push(e);if((t=e.subRows)!=null&&t.length){e.subRows=a(e.subRows)}}));return t};return{rows:a(n.rows),flatRows:l,rowsById:n.rowsById}}),c(e.options,"debugTable","getSortedRowModel",(()=>e._autoResetPageIndex())))}const Ge=":host{display:block;font-family:var(--font-family-body, 'Inter', sans-serif)}.data-grid{display:flex;flex-direction:column;background-color:var(--color-white, #fff);border:1px solid var(--color-neutral-200, #e2e4eb);border-radius:var(--radius-lg, 8px);overflow:hidden}.data-grid-container{position:relative;overflow:auto}.data-grid-table{display:table;width:100%;border-collapse:collapse}.data-grid-compact .data-grid-header-cell,.data-grid-compact .data-grid-cell,.data-grid-compact .data-grid-filter-cell{padding:var(--sp-1-5, 6px) var(--sp-2, 8px);font-size:0.75rem}.data-grid-compact .data-grid-row{height:32px}.data-grid-default .data-grid-header-cell,.data-grid-default .data-grid-cell,.data-grid-default .data-grid-filter-cell{padding:var(--sp-2, 8px) var(--sp-3, 12px);font-size:0.875rem}.data-grid-default .data-grid-row{height:44px}.data-grid-relaxed .data-grid-header-cell,.data-grid-relaxed .data-grid-cell,.data-grid-relaxed .data-grid-filter-cell{padding:var(--sp-3, 12px) var(--sp-4, 16px);font-size:0.875rem}.data-grid-relaxed .data-grid-row{height:56px}.data-grid-bordered .data-grid-cell,.data-grid-bordered .data-grid-header-cell,.data-grid-bordered .data-grid-filter-cell{border:1px solid var(--color-neutral-200, #e2e4eb)}.data-grid-bordered .data-grid-header-cell{border-bottom-width:2px}.data-grid-striped .data-grid-row-striped{background-color:var(--color-neutral-50, #fafafc)}.data-grid-caption{padding:var(--sp-3, 12px) var(--sp-4, 16px);font-size:0.875rem;font-weight:500;color:var(--color-neutral-700, #4d5266)}.data-grid-caption-top{border-bottom:1px solid var(--color-neutral-200, #e2e4eb)}.data-grid-caption-bottom{border-top:1px solid var(--color-neutral-200, #e2e4eb)}.data-grid-global-filter{display:flex;align-items:center;gap:var(--sp-2, 8px);padding:var(--sp-3, 12px) var(--sp-4, 16px);border-bottom:1px solid var(--color-neutral-200, #e2e4eb)}.data-grid-search-icon{font-size:20px;color:var(--color-neutral-400, #939ab4)}.data-grid-global-filter-input{flex:1;padding:var(--sp-2, 8px) var(--sp-3, 12px);border:1px solid var(--color-neutral-300, #c0c4d4);border-radius:var(--radius-md, 6px);font-size:0.875rem;color:var(--color-neutral-900, #141624);background-color:var(--color-white, #fff);transition:border-color 0.15s ease, box-shadow 0.15s ease}.data-grid-global-filter-input:focus{outline:none;border-color:var(--color-brand-500, #6366f1);box-shadow:0 0 0 3px var(--color-brand-100, #e0e1fc)}.data-grid-global-filter-input::placeholder{color:var(--color-neutral-400, #939ab4)}.data-grid-header{display:table-header-group;background-color:var(--color-neutral-50, #fafafc)}.data-grid-header-sticky{position:sticky;top:0;z-index:10}.data-grid-header-row{display:table-row}.data-grid-header-cell{display:table-cell;vertical-align:middle;text-align:left;font-weight:600;color:var(--color-neutral-700, #4d5266);border-bottom:1px solid var(--color-neutral-200, #e2e4eb);white-space:nowrap;user-select:none}.data-grid-header-cell-sortable{cursor:pointer;transition:background-color 0.15s ease}.data-grid-header-cell-sortable:hover{background-color:var(--color-neutral-100, #f0f1f5)}.data-grid-header-cell-sorted{color:var(--color-brand-600, #4f46e5)}.data-grid-header-text{display:inline-flex;align-items:center;gap:var(--sp-1, 4px)}.data-grid-sort-icon{font-size:16px;color:var(--color-brand-600, #4f46e5)}.data-grid-filter-row{display:table-row;background-color:var(--color-neutral-25, #fcfcfe)}.data-grid-filter-cell{display:table-cell;vertical-align:middle;border-bottom:1px solid var(--color-neutral-200, #e2e4eb)}.data-grid-filter-input{width:100%;padding:var(--sp-1-5, 6px) var(--sp-2, 8px);border:1px solid var(--color-neutral-300, #c0c4d4);border-radius:var(--radius-sm, 4px);font-size:0.75rem;color:var(--color-neutral-900, #141624);background-color:var(--color-white, #fff);transition:border-color 0.15s ease}.data-grid-filter-input:focus{outline:none;border-color:var(--color-brand-500, #6366f1)}.data-grid-filter-input::placeholder{color:var(--color-neutral-400, #939ab4)}.data-grid-body{display:table-row-group}.data-grid-row{display:table-row;transition:background-color 0.1s ease}.data-grid-row-hover,.data-grid-row:hover{background-color:var(--color-neutral-50, #fafafc)}.data-grid-row-selected{background-color:var(--color-brand-50, #eef2ff) !important}.data-grid-row-selected:hover{background-color:var(--color-brand-100, #e0e7ff) !important}.data-grid-row-clickable{cursor:pointer}.data-grid-row-editing{background-color:var(--color-warning-50, #fffbeb) !important}.data-grid-cell{display:table-cell;vertical-align:middle;color:var(--color-neutral-900, #141624);border-bottom:1px solid var(--color-neutral-100, #f0f1f5)}.data-grid-cell-align-left{text-align:left}.data-grid-cell-align-center{text-align:center}.data-grid-cell-align-right{text-align:right}.data-grid-cell-type-number{font-variant-numeric:tabular-nums}.data-grid-cell-editable{cursor:cell}.data-grid-cell-editable:hover{background-color:var(--color-brand-25, #f5f8ff)}.data-grid-cell-editing{padding:var(--sp-1, 4px) !important}.data-grid-cell-error{position:relative}.data-grid-cell-error-text{position:absolute;bottom:2px;left:4px;font-size:0.625rem;color:var(--color-error-600, #dc2626)}.data-grid-cell-select{width:40px;min-width:40px;max-width:40px;text-align:center}.data-grid-cell-expand{width:40px;min-width:40px;max-width:40px;text-align:center}.data-grid-cell-actions{width:80px;min-width:80px;max-width:80px;text-align:center}.data-grid-expand-btn{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;padding:0;border:none;border-radius:var(--radius-md, 6px);background-color:transparent;color:var(--color-neutral-500, #6b7280);cursor:pointer;transition:background-color 0.15s ease, color 0.15s ease}.data-grid-expand-btn:hover{background-color:var(--color-neutral-100, #f0f1f5);color:var(--color-neutral-700, #4d5266)}.data-grid-expand-btn .material-symbols-outlined{font-size:20px;transition:transform 0.15s ease}.data-grid-row-expanded .data-grid-expand-btn .material-symbols-outlined{transform:rotate(90deg)}.data-grid-row-expansion{display:table-row;background-color:var(--color-neutral-50, #fafafc)}.data-grid-row-expansion>*{display:table-cell;padding:var(--sp-4, 16px);border-bottom:1px solid var(--color-neutral-200, #e2e4eb)}.data-grid-row-group{background-color:var(--color-neutral-100, #f0f1f5);cursor:pointer}.data-grid-row-group:hover{background-color:var(--color-neutral-200, #e2e4eb)}.data-grid-cell-group-label{display:flex;align-items:center;gap:var(--sp-2, 8px);font-weight:500}.data-grid-group-toggle{display:inline-flex;align-items:center;justify-content:center;width:24px;height:24px;padding:0;border:none;background:transparent;color:var(--color-neutral-600, #5c627a);cursor:pointer}.data-grid-group-toggle .material-symbols-outlined{font-size:20px;transition:transform 0.15s ease}.data-grid-row-group-expanded .data-grid-group-toggle .material-symbols-outlined{transform:rotate(90deg)}.data-grid-group-label{display:inline-flex;align-items:center;gap:var(--sp-1, 4px)}.data-grid-group-column{color:var(--color-neutral-500, #6b7280)}.data-grid-group-value{color:var(--color-neutral-900, #141624);font-weight:600}.data-grid-group-count{color:var(--color-neutral-400, #939ab4);font-size:0.75rem;font-weight:400}.data-grid-edit-input{width:100%;padding:var(--sp-1-5, 6px) var(--sp-2, 8px);border:1px solid var(--color-brand-400, #818cf8);border-radius:var(--radius-sm, 4px);font-size:inherit;color:var(--color-neutral-900, #141624);background-color:var(--color-white, #fff);box-shadow:0 0 0 3px var(--color-brand-100, #e0e1fc)}.data-grid-edit-input:focus{outline:none;border-color:var(--color-brand-500, #6366f1)}.data-grid-edit-actions{display:flex;align-items:center;justify-content:center;gap:var(--sp-1, 4px)}.data-grid-action-btn{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;padding:0;border:none;border-radius:var(--radius-md, 6px);background-color:transparent;color:var(--color-neutral-600, #5c627a);cursor:pointer;transition:background-color 0.15s ease, color 0.15s ease}.data-grid-action-btn:hover{background-color:var(--color-neutral-100, #f0f1f5);color:var(--color-neutral-900, #141624)}.data-grid-action-btn .material-symbols-outlined{font-size:18px}.data-grid-empty{display:flex;align-items:center;justify-content:center;padding:var(--sp-12, 48px) var(--sp-4, 16px)}.data-grid-loading{position:relative}.data-grid-loading-overlay{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;background-color:rgba(255, 255, 255, 0.8);z-index:20}.data-grid-skeleton .data-grid-cell{padding:var(--sp-2, 8px) var(--sp-3, 12px)}.data-grid-row-skeleton{animation:skeleton-pulse 1.5s ease-in-out infinite}@keyframes skeleton-pulse{0%,100%{opacity:1}50%{opacity:0.5}}.material-symbols-outlined{font-family:'Material Symbols Outlined';font-weight:normal;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;font-feature-settings:'liga';font-variation-settings:'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24}@media (max-width: 640px){.data-grid-global-filter{padding:var(--sp-2, 8px)}.data-grid-header-cell,.data-grid-cell,.data-grid-filter-cell{padding:var(--sp-2, 8px) !important;font-size:0.75rem !important}.data-grid-cell-select,.data-grid-cell-expand{width:32px;min-width:32px;max-width:32px}.data-grid-cell-actions{width:60px;min-width:60px;max-width:60px}}";const Le=class{constructor(n){e(this,n);this.bhSortChange=t(this,"bhSortChange");this.bhFilterChange=t(this,"bhFilterChange");this.bhSelectionChange=t(this,"bhSelectionChange");this.bhPageChange=t(this,"bhPageChange");this.bhRowClick=t(this,"bhRowClick");this.bhCellClick=t(this,"bhCellClick");this.bhExpandChange=t(this,"bhExpandChange");this.bhGroupToggle=t(this,"bhGroupToggle");this.bhEditStart=t(this,"bhEditStart");this.bhEditCancel=t(this,"bhEditCancel");this.bhEditSave=t(this,"bhEditSave");this.bhCellChange=t(this,"bhCellChange");this.bhValidationError=t(this,"bhValidationError")}get el(){return n(this)}data=[];columns=[];getRowId;getSubRows;size="default";striped=false;bordered=false;stickyHeader=false;maxHeight;caption;captionPosition="top";emptyTitle="No data";emptyDescription="There are no records to display.";loading=false;loadingType="spinner";skeletonRowCount=5;enableSorting=true;enableMultiSort=false;sortState=[];enableFiltering=false;enableGlobalFilter=false;showFilterRow=false;globalFilterPlaceholder="Search...";filterState=[];globalFilter="";selectionMode="none";selectedRowIds=[];enablePagination=false;page=1;pageSize=10;pageSizeOptions=[10,25,50,100];enableExpansion=false;expandedRowIds=[];enableGrouping=false;groupBy=[];enableEditing=false;editMode="cell";showEditActions=true;tableState={};editingRowId=null;editingColumnId=null;editingValues={};validationErrors={};hoveredRowId=null;table=null;bhSortChange;bhFilterChange;bhSelectionChange;bhPageChange;bhRowClick;bhCellClick;bhExpandChange;bhGroupToggle;bhEditStart;bhEditCancel;bhEditSave;bhCellChange;bhValidationError;handleDataChange(){this.initializeTable()}handleSortStateChange(e){if(this.table){this.table.setSorting(e)}}handleFilterStateChange(e){if(this.table){this.table.setColumnFilters(e)}}handleSelectedRowIdsChange(e){if(this.table){const t={};e.forEach((e=>{t[e]=true}));this.table.setRowSelection(t)}}handlePaginationPropChange(){if(this.table){this.table.setPagination({pageIndex:this.page-1,pageSize:this.pageSize})}}handleExpandedRowIdsChange(e){if(this.table){const t={};e.forEach((e=>{t[e]=true}));this.table.setExpanded(t)}}handleGroupByChange(e){if(this.table){this.table.setGrouping(e)}}componentWillLoad(){this.initializeTable()}initializeTable(){const e={sorting:this.sortState,columnFilters:this.filterState,globalFilter:this.globalFilter,rowSelection:this.buildRowSelection(),expanded:this.buildExpanded(),pagination:{pageIndex:this.page-1,pageSize:this.pageSize},grouping:this.groupBy,columnVisibility:this.buildColumnVisibility(),columnPinning:{left:[],right:[]},columnSizing:{}};this.tableState=e;this.table=Fe({data:this.data,columns:this.columns,state:this.tableState,onStateChange:e=>{const t=typeof e==="function"?e(this.tableState):e;this.handleStateChange(t)},getCoreRowModel:Me(),getSortedRowModel:this.enableSorting?Ae():undefined,getFilteredRowModel:this.enableFiltering||this.enableGlobalFilter?je():undefined,getPaginationRowModel:this.enablePagination?$e():undefined,getExpandedRowModel:this.enableExpansion||this.enableGrouping?Ee():undefined,getGroupedRowModel:this.enableGrouping?Ve():undefined,getRowId:this.getRowId||((e,t)=>String(e.id??t)),getSubRows:this.getSubRows,enableRowSelection:this.selectionMode!=="none",enableMultiRowSelection:this.selectionMode==="multiple-click"||this.selectionMode==="multiple-checkbox",enableSorting:this.enableSorting,enableFilters:this.enableFiltering||this.enableGlobalFilter,enableExpanding:this.enableExpansion||this.enableGrouping,enableGrouping:this.enableGrouping,manualPagination:false,autoResetExpanded:false,renderFallbackValue:null});r(this.el)}handleStateChange(e){const t=this.tableState;this.tableState=e;if(this.table){this.table.setOptions((t=>({...t,state:e})))}if(JSON.stringify(t.sorting)!==JSON.stringify(e.sorting)){this.sortState=e.sorting;this.bhSortChange.emit({sorting:e.sorting})}if(JSON.stringify(t.columnFilters)!==JSON.stringify(e.columnFilters)||t.globalFilter!==e.globalFilter){this.filterState=e.columnFilters;this.globalFilter=e.globalFilter;this.bhFilterChange.emit({columnFilters:e.columnFilters,globalFilter:e.globalFilter})}if(JSON.stringify(t.rowSelection)!==JSON.stringify(e.rowSelection)){const t=Object.keys(e.rowSelection).filter((t=>e.rowSelection[t]));this.selectedRowIds=t;const n=this.table?.getSelectedRowModel().rows.map((e=>e.original))??[];this.bhSelectionChange.emit({selectedRowIds:t,selectedRows:n})}if(t.pagination?.pageIndex!==e.pagination?.pageIndex||t.pagination?.pageSize!==e.pagination?.pageSize){this.page=e.pagination.pageIndex+1;this.pageSize=e.pagination.pageSize;this.bhPageChange.emit({page:this.page,pageSize:this.pageSize})}r(this.el)}buildRowSelection(){const e={};this.selectedRowIds.forEach((t=>{e[t]=true}));return e}buildExpanded(){const e={};this.expandedRowIds.forEach((t=>{e[t]=true}));return e}buildColumnVisibility(){const e={};if(this.enableGrouping){this.groupBy.forEach((t=>{e[t]=false}))}return e}handleRowClick=e=>{const t=e.id;if(this.selectionMode==="single-click"){const t=e.getIsSelected();this.table?.resetRowSelection();if(!t){e.toggleSelected(true)}}else if(this.selectionMode==="multiple-click"){e.toggleSelected()}this.bhRowClick.emit({row:e.original,rowId:t,rowIndex:e.index})};handleCellClick=(e,t)=>{this.bhCellClick.emit({row:e.original,rowId:e.id,rowIndex:e.index,columnId:t.column.id,value:t.getValue()})};handleHeaderClick=e=>{if(this.enableSorting&&e.column.getCanSort()){e.column.toggleSorting(undefined,this.enableMultiSort)}};handleRowExpand=e=>{const t=e.getIsExpanded();e.toggleExpanded();this.bhExpandChange.emit({rowId:e.id,expanded:!t})};handleGroupToggle=e=>{const t=e.getIsExpanded();e.toggleExpanded();this.bhGroupToggle.emit({groupId:e.id,expanded:!t})};handleGlobalFilterChange=e=>{const t=e.target;this.table?.setGlobalFilter(t.value)};handleColumnFilterChange=(e,t)=>{const n=this.table?.getColumn(e);if(n){n.setFilterValue(t||undefined)}};handlePaginationChange=e=>{const{page:t,pageSize:n}=e.detail;this.table?.setPagination({pageIndex:t-1,pageSize:n})};startEditing=(e,t)=>{if(!this.enableEditing)return;this.editingRowId=e.id;this.editingColumnId=this.editMode==="cell"?t||null:null;const n={};this.columns.forEach((t=>{const r=t.accessorKey||t.id;if(r){n[r]=e.original[r]}}));this.editingValues=n;this.validationErrors={};this.bhEditStart.emit({rowId:e.id,row:e.original,columnId:t})};cancelEditing=()=>{if(!this.editingRowId)return;const e=this.table?.getRow(this.editingRowId);if(e){this.bhEditCancel.emit({rowId:this.editingRowId,row:e.original})}this.editingRowId=null;this.editingColumnId=null;this.editingValues={};this.validationErrors={}};saveEditing=()=>{if(!this.editingRowId||!this.table)return;const e=this.table.getRow(this.editingRowId);if(!e)return;const t={};for(const[n,r]of Object.entries(this.editingValues)){const l=this.table.getColumn(n);const o=l?.columnDef.meta?.validate;if(o){const l=o(r,e.original);if(l){t[n]=l;this.bhValidationError.emit({rowId:this.editingRowId,columnId:n,value:r,error:l})}}}if(Object.keys(t).length>0){this.validationErrors=t;return}const n={};for(const[t,r]of Object.entries(this.editingValues)){const l=e.original[t];if(l!==r){n[t]=r}}const r={...e.original,...n};this.bhEditSave.emit({rowId:this.editingRowId,rowIndex:e.index,originalRow:e.original,changes:n,newRow:r});this.editingRowId=null;this.editingColumnId=null;this.editingValues={};this.validationErrors={}};handleEditValueChange=(e,t)=>{const n=this.editingValues[e];this.editingValues={...this.editingValues,[e]:t};if(this.validationErrors[e]){const{[e]:t,...n}=this.validationErrors;this.validationErrors=n}if(this.editingRowId){this.bhCellChange.emit({rowId:this.editingRowId,columnId:e,oldValue:n,newValue:t})}};handleEditKeyDown=(e,t)=>{if(e.key==="Enter"){e.preventDefault();this.saveEditing()}else if(e.key==="Escape"){e.preventDefault();this.cancelEditing()}else if(e.key==="Tab"&&this.editMode==="cell"){e.preventDefault();this.moveToNextEditableCell(t,e.shiftKey)}};moveToNextEditableCell=(e,t)=>{const n=this.columns.filter((e=>e.meta?.editable!==false));const r=n.findIndex((t=>{const n=t.accessorKey||t.id;return n===e}));if(r===-1)return;const l=t?r-1:r+1;if(l>=0&&l<n.length){const e=n[l];const t=e.accessorKey||e.id;this.editingColumnId=t||null}else{this.saveEditing()}};isEditing(e,t){if(this.editingRowId!==e)return false;if(this.editMode==="cell"){return t?this.editingColumnId===t:false}return true}handleCellDoubleClick=(e,t)=>{if(!this.enableEditing||t.column.columnDef.meta?.editable===false)return;if(this.editMode==="cell"){this.startEditing(e,t.column.id)}};flexRender(e,t){if(typeof e==="function"){return e(t)}return e}formatCellValue(e,t){if(e===null||e===undefined)return"";switch(t?.type){case"number":return typeof e==="number"?e.toLocaleString(undefined,t.numberFormat):String(e);case"date":return e instanceof Date?e.toLocaleDateString(undefined,t.dateFormat):new Date(e).toLocaleDateString(undefined,t.dateFormat);case"boolean":return e?"Yes":"No";default:return String(e)}}renderCaption(){if(!this.caption)return null;const e={"data-grid-caption":true,[`data-grid-caption-${this.captionPosition}`]:true};return l("div",{class:e},l("slot",{name:"caption"},this.caption))}renderGlobalFilter(){if(!this.enableGlobalFilter)return null;return l("div",{class:"data-grid-global-filter"},l("span",{class:"data-grid-search-icon material-symbols-outlined"},"search"),l("input",{type:"text",class:"data-grid-global-filter-input",placeholder:this.globalFilterPlaceholder,value:this.globalFilter,onInput:this.handleGlobalFilterChange}))}renderHeader(){if(!this.table)return null;const e=this.table.getHeaderGroups();return l("div",{class:{"data-grid-header":true,"data-grid-header-sticky":this.stickyHeader}},e.map((e=>l("div",{class:"data-grid-header-row",role:"row",key:e.id},this.renderSelectionHeader(),this.enableExpansion&&!this.enableGrouping&&l("div",{class:"data-grid-header-cell data-grid-cell-expand",role:"columnheader"}),e.headers.map((e=>this.renderHeaderCell(e))),this.enableEditing&&this.showEditActions&&this.editMode==="row"&&l("div",{class:"data-grid-header-cell data-grid-cell-actions",role:"columnheader"})))),this.showFilterRow&&this.renderFilterRow())}renderSelectionHeader(){if(this.selectionMode==="none"||this.selectionMode==="single-click"||this.selectionMode==="multiple-click"){return null}if(this.selectionMode==="single-radio"){return l("div",{class:"data-grid-header-cell data-grid-cell-select",role:"columnheader"})}const e=this.table?.getIsAllRowsSelected();const t=this.table?.getIsSomeRowsSelected();return l("div",{class:"data-grid-header-cell data-grid-cell-select",role:"columnheader"},l("bh-checkbox",{size:"sm",checked:e,indeterminate:t&&!e,onBhChange:()=>this.table?.toggleAllRowsSelected()}))}renderHeaderCell(e){if(e.isPlaceholder){return l("div",{class:"data-grid-header-cell",role:"columnheader",key:e.id})}const t=e.column.getCanSort();const n=e.column.getIsSorted();const r=e.column.columnDef.meta;const o={"data-grid-header-cell":true,"data-grid-header-cell-sortable":t,"data-grid-header-cell-sorted":!!n,[`data-grid-cell-align-${r?.align||"left"}`]:true};const i=e.column.getSize()?{width:`${e.column.getSize()}px`}:{};return l("div",{class:o,style:i,role:"columnheader","aria-sort":n==="asc"?"ascending":n==="desc"?"descending":"none",onClick:()=>t&&this.handleHeaderClick(e),key:e.id},l("span",{class:"data-grid-header-text"},this.flexRender(e.column.columnDef.header,e.getContext())),t&&n&&l("span",{class:"data-grid-sort-icon material-symbols-outlined"},n==="asc"?"arrow_upward":"arrow_downward"))}renderFilterRow(){if(!this.table)return null;const e=this.table.getHeaderGroups()[0]?.headers||[];return l("div",{class:"data-grid-filter-row",role:"row"},(this.selectionMode==="single-radio"||this.selectionMode==="multiple-checkbox")&&l("div",{class:"data-grid-filter-cell data-grid-cell-select",role:"cell"}),this.enableExpansion&&!this.enableGrouping&&l("div",{class:"data-grid-filter-cell data-grid-cell-expand",role:"cell"}),e.map((e=>{const t=e.column.getCanFilter();const n=e.column.columnDef.meta;if(!t||n?.filterable===false){return l("div",{class:"data-grid-filter-cell",role:"cell",key:e.id})}const r=e.column.getFilterValue()??"";return l("div",{class:"data-grid-filter-cell",role:"cell",key:e.id},l("input",{type:n?.type==="number"?"number":n?.type==="date"?"date":"text",class:"data-grid-filter-input",placeholder:`Filter...`,value:r,onInput:t=>this.handleColumnFilterChange(e.column.id,t.target.value)}))})),this.enableEditing&&this.showEditActions&&this.editMode==="row"&&l("div",{class:"data-grid-filter-cell data-grid-cell-actions",role:"cell"}))}renderBody(){if(!this.table)return null;if(this.loading&&this.loadingType==="skeleton"){return this.renderSkeleton()}const e=this.table.getRowModel().rows;if(e.length===0){return this.renderEmptyState()}return l("div",{class:"data-grid-body",role:"rowgroup"},e.map((e=>{if(e.getIsGrouped()){return this.renderGroupRow(e)}return this.renderDataRow(e)})))}renderDataRow(e){const t=e.getIsSelected();const n=e.getIsExpanded();const r=this.editingRowId===e.id;const o={"data-grid-row":true,"data-grid-row-selected":t,"data-grid-row-expanded":n,"data-grid-row-editing":r,"data-grid-row-hover":this.hoveredRowId===e.id,"data-grid-row-striped":this.striped&&e.index%2===1,"data-grid-row-clickable":this.selectionMode==="single-click"||this.selectionMode==="multiple-click"};return[l("div",{class:o,role:"row","aria-selected":t?"true":"false",key:e.id,onClick:()=>this.handleRowClick(e),onMouseEnter:()=>{this.hoveredRowId=e.id},onMouseLeave:()=>{this.hoveredRowId=null}},this.renderSelectionCell(e),this.enableExpansion&&!this.enableGrouping&&l("div",{class:"data-grid-cell data-grid-cell-expand",role:"cell",onClick:e=>{e.stopPropagation()}},e.getCanExpand()&&l("button",{class:"data-grid-expand-btn",onClick:()=>this.handleRowExpand(e),"aria-label":n?"Collapse row":"Expand row"},l("span",{class:"material-symbols-outlined"},n?"expand_more":"chevron_right"))),e.getVisibleCells().map((t=>this.renderCell(e,t))),this.enableEditing&&this.showEditActions&&this.editMode==="row"&&l("div",{class:"data-grid-cell data-grid-cell-actions",role:"cell",onClick:e=>e.stopPropagation()},r?l("div",{class:"data-grid-edit-actions"},l("button",{class:"data-grid-action-btn",onClick:()=>this.saveEditing(),title:"Save"},l("span",{class:"material-symbols-outlined"},"check")),l("button",{class:"data-grid-action-btn",onClick:()=>this.cancelEditing(),title:"Cancel"},l("span",{class:"material-symbols-outlined"},"close"))):l("button",{class:"data-grid-action-btn",onClick:()=>this.startEditing(e),title:"Edit"},l("span",{class:"material-symbols-outlined"},"edit")))),n&&this.enableExpansion&&!this.enableGrouping&&l("div",{class:"data-grid-row-expansion",key:`${e.id}-expansion`},l("slot",{name:"expanded-row"}))]}renderSelectionCell(e){if(this.selectionMode==="none"||this.selectionMode==="single-click"||this.selectionMode==="multiple-click"){return null}const t=e.getIsSelected();if(this.selectionMode==="single-radio"){return l("div",{class:"data-grid-cell data-grid-cell-select",role:"cell",onClick:e=>e.stopPropagation()},l("bh-radio-button",{selected:t,onBhChange:()=>{this.table?.resetRowSelection();e.toggleSelected(true)}}))}return l("div",{class:"data-grid-cell data-grid-cell-select",role:"cell",onClick:e=>e.stopPropagation()},l("bh-checkbox",{size:"sm",checked:t,onBhChange:()=>e.toggleSelected()}))}renderCell(e,t){const n=t.column.columnDef.meta;const r=t.column.id;const o=this.isEditing(e.id,r);const i=this.enableEditing&&n?.editable!==false;const a=!!this.validationErrors[r];const s={"data-grid-cell":true,[`data-grid-cell-align-${n?.align||(n?.type==="number"?"right":"left")}`]:true,[`data-grid-cell-type-${n?.type||"text"}`]:true,"data-grid-cell-editing":o,"data-grid-cell-editable":i&&!o,"data-grid-cell-error":a};const u=t.column.getSize()?{width:`${t.column.getSize()}px`}:{};return l("div",{class:s,style:u,role:"cell",key:t.id,onClick:n=>{n.stopPropagation();this.handleCellClick(e,t)},onDblClick:n=>{n.stopPropagation();this.handleCellDoubleClick(e,t)}},o?this.renderEditInput(t):this.renderCellContent(t),a&&l("span",{class:"data-grid-cell-error-text"},this.validationErrors[r]))}renderCellContent(e){const t=this.flexRender(e.column.columnDef.cell,e.getContext());if(t!==undefined&&t!==null&&t!==e.getValue()){return t}return this.formatCellValue(e.getValue(),e.column.columnDef.meta)}renderEditInput(e){const t=e.column.id;const n=e.column.columnDef.meta;const r=this.editingValues[t]??e.getValue();const o=n?.type==="number"?"number":n?.type==="date"?"date":n?.type==="boolean"?"checkbox":"text";if(n?.type==="boolean"){return l("bh-checkbox",{size:"sm",checked:Boolean(r),onBhChange:e=>this.handleEditValueChange(t,e.detail.checked)})}return l("input",{type:o,class:"data-grid-edit-input",value:r!=null?String(r):"",onInput:e=>{const r=e.target;const l=n?.type==="number"?Number(r.value):r.value;this.handleEditValueChange(t,l)},onKeyDown:e=>this.handleEditKeyDown(e,t),ref:e=>e&&requestAnimationFrame((()=>e.focus()))})}renderGroupRow(e){const t=e.getIsExpanded();const n=e.groupingColumnId;const r=e.groupingValue;const o=e.getLeafRows();const i=o.every((e=>e.getIsSelected()));const a=o.some((e=>e.getIsSelected()));const s={"data-grid-row":true,"data-grid-row-group":true,"data-grid-row-group-expanded":t};return[l("div",{class:s,role:"row","aria-expanded":t?"true":"false",key:e.id,onClick:()=>this.handleGroupToggle(e)},this.selectionMode==="multiple-checkbox"&&l("div",{class:"data-grid-cell data-grid-cell-select",role:"cell",onClick:e=>e.stopPropagation()},l("bh-checkbox",{size:"sm",checked:i,indeterminate:a&&!i,onBhChange:()=>{o.forEach((e=>e.toggleSelected(!i)))}})),l("div",{class:"data-grid-cell data-grid-cell-group-label",role:"cell"},l("button",{class:"data-grid-group-toggle","aria-label":t?"Collapse group":"Expand group"},l("span",{class:"material-symbols-outlined"},t?"expand_more":"chevron_right")),l("span",{class:"data-grid-group-label"},l("span",{class:"data-grid-group-column"},n,": "),l("span",{class:"data-grid-group-value"},String(r))),l("span",{class:"data-grid-group-count"},"(",o.length," ",o.length===1?"item":"items",")"))),t&&e.subRows.map((e=>{if(e.getIsGrouped()){return this.renderGroupRow(e)}return this.renderDataRow(e)}))]}renderEmptyState(){return l("div",{class:"data-grid-empty"},l("bh-empty-state",{emptyTitle:this.emptyTitle,description:this.emptyDescription}))}renderSkeleton(){const e=Array.from({length:this.skeletonRowCount},((e,t)=>t));const t=this.columns.length+(this.selectionMode==="single-radio"||this.selectionMode==="multiple-checkbox"?1:0)+(this.enableExpansion&&!this.enableGrouping?1:0)+(this.enableEditing&&this.showEditActions&&this.editMode==="row"?1:0);return l("div",{class:"data-grid-body data-grid-skeleton",role:"rowgroup"},e.map((e=>l("div",{class:"data-grid-row data-grid-row-skeleton",role:"row",key:e},Array.from({length:t},((e,t)=>l("div",{class:"data-grid-cell",role:"cell",key:t},l("bh-skeleton-loader",{width:"80%",height:"16px"}))))))))}renderLoadingOverlay(){if(!this.loading||this.loadingType!=="spinner")return null;return l("div",{class:"data-grid-loading-overlay"},l("bh-loader-spinner",{size:"lg"}))}renderPagination(){if(!this.enablePagination||!this.table)return null;const e=this.table.getFilteredRowModel().rows.length;return l("bh-pagination",{page:this.page,totalItems:e,pageSize:this.pageSize,pageSizeOptions:this.pageSizeOptions,onBhPageChange:this.handlePaginationChange,onBhPageSizeChange:this.handlePaginationChange})}render(){const e={"data-grid":true,[`data-grid-${this.size}`]:true,"data-grid-bordered":this.bordered,"data-grid-striped":this.striped,"data-grid-loading":this.loading};const t=this.maxHeight?{maxHeight:this.maxHeight,overflowY:"auto"}:{};return l("div",{key:"aa7f1e09699fb99be7625f90b3b94fa9e6927498",class:e,role:"grid","aria-busy":this.loading?"true":"false"},this.captionPosition==="top"&&this.renderCaption(),this.renderGlobalFilter(),l("div",{key:"2929257ae04c88f8d225edac899fe7ec5f195fb2",class:"data-grid-container",style:t},l("div",{key:"66bfba27da2199fbb1735229ea07e522b0f83dd1",class:"data-grid-table"},this.renderHeader(),this.renderBody()),this.renderLoadingOverlay()),this.captionPosition==="bottom"&&this.renderCaption(),this.renderPagination())}static get watchers(){return{data:["handleDataChange"],columns:["handleDataChange"],sortState:["handleSortStateChange"],filterState:["handleFilterStateChange"],selectedRowIds:["handleSelectedRowIdsChange"],page:["handlePaginationPropChange"],pageSize:["handlePaginationPropChange"],expandedRowIds:["handleExpandedRowIdsChange"],groupBy:["handleGroupByChange"]}}};Le.style=Ge;export{Le as bh_data_grid};
//# sourceMappingURL=p-233540f9.entry.js.map