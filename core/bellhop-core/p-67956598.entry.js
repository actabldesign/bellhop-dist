import{r as t,c as i,a as r,h as e}from"./p-nAAobRRQ.js";const s=":host{display:block}.input-verification-wrapper{display:flex;flex-direction:column;gap:var(--spacing-sm);width:fit-content}.input-verification-container{display:flex;align-items:center;gap:var(--spacing-sm)}.verification-input{width:64px;height:64px;padding:0;border:1px solid var(--color-neutral-300);border-radius:var(--radius-lg);background-color:var(--color-white);font-family:var(--font-inter);font-size:3rem;font-weight:var(--weight-medium);line-height:1;color:var(--color-neutral-900);transition:all 150ms ease;outline:none;box-sizing:border-box}.verification-input.size-sm{width:64px;height:64px;font-size:3rem;border-radius:var(--radius-lg);padding:var(--spacing-xl) var(--spacing-md)}.verification-input.size-md{width:80px;height:80px;font-size:3rem;border-radius:var(--radius-lg);padding:var(--spacing-2xl) var(--spacing-3xl)}.verification-input.size-lg{width:96px;height:96px;font-size:3.75rem;border-radius:var(--radius-lg);padding:var(--spacing-3xl) var(--spacing-4xl)}.verification-input:hover:not(:disabled){border-color:var(--color-neutral-400)}.verification-input:focus{border-color:var(--color-brand-300);box-shadow:0 0 0 4px var(--color-brand-100)}.verification-input.error{border-color:var(--color-error-300)}.verification-input.error:focus{border-color:var(--color-error-300);box-shadow:0 0 0 4px var(--color-error-100)}.verification-input:disabled{background-color:var(--color-neutral-50);border-color:var(--color-neutral-300);color:var(--color-neutral-400);cursor:not-allowed}.separator{font-family:var(--font-inter);font-size:1.5rem;font-weight:var(--weight-medium);color:var(--color-neutral-400);margin:0 var(--spacing-xs);line-height:1}.separator.size-sm{font-size:1.5rem}.separator.size-md{font-size:1.5rem}.separator.size-lg{font-size:1.875rem}.hint-text{font-family:var(--font-inter);font-size:var(--text-sm-size);font-weight:var(--weight-regular);line-height:var(--text-sm-line);color:var(--color-neutral-600);margin-top:var(--spacing-xs)}.hint-text.error{color:var(--color-error-600)}.verification-input::placeholder{color:var(--color-neutral-400);opacity:1;font-size:inherit;font-weight:var(--weight-regular)}";const o=class{constructor(r){t(this,r);this.bhChange=i(this,"bhChange");this.bhComplete=i(this,"bhComplete")}get el(){return r(this)}size="md";digits=4;label="Secure code";showLabel=true;hintText="This is a hint text to help user.";showHintText=true;error=false;disabled=false;required=false;showSeparator=true;placeholder="";width="";value="";values=[];inputRefs=[];bhChange;bhComplete;watchValue(t){const i=t.split("").concat(Array(this.digits).fill("")).slice(0,this.digits);this.values=i}watchDigits(){this.values=Array(this.digits).fill("")}componentWillLoad(){this.values=this.value?this.value.split("").concat(Array(this.digits).fill("")).slice(0,this.digits):Array(this.digits).fill("")}componentDidLoad(){if(!this.disabled){const t=this.el.shadowRoot?.querySelector("input");t?.focus()}}updateValues(t){this.values=t;const i=t.join("");this.value=i;this.bhChange.emit(i);if(t.every((t=>t!==""))){this.bhComplete.emit(i)}}handleInputChange(t,i){const r=i.target;const e=r.value;const s=e.replace(/\D/g,"").slice(-1);const o=[...this.values];o[t]=s;this.updateValues(o);if(s&&t<this.digits-1){const i=this.el.shadowRoot?.querySelectorAll("input")[t+1];i?.focus()}}handleKeyDown(t,i){if(i.key==="Backspace"){i.preventDefault();const r=[...this.values];if(this.values[t]){r[t]="";this.updateValues(r)}else if(t>0){r[t-1]="";this.updateValues(r);const i=this.el.shadowRoot?.querySelectorAll("input")[t-1];i?.focus()}}else if(i.key==="ArrowLeft"&&t>0){i.preventDefault();const r=this.el.shadowRoot?.querySelectorAll("input")[t-1];r?.focus()}else if(i.key==="ArrowRight"&&t<this.digits-1){i.preventDefault();const r=this.el.shadowRoot?.querySelectorAll("input")[t+1];r?.focus()}else if(i.key>="0"&&i.key<="9"){i.preventDefault();const r=[...this.values];r[t]=i.key;this.updateValues(r);if(t<this.digits-1){const i=this.el.shadowRoot?.querySelectorAll("input")[t+1];i?.focus()}}}handlePaste(t){t.preventDefault();const i=t.clipboardData?.getData("text")||"";const r=i.replace(/\D/g,"").slice(0,this.digits);if(r){const t=r.split("").concat(Array(this.digits).fill("")).slice(0,this.digits);this.updateValues(t);const i=t.findIndex((t=>t===""));const e=i===-1?this.digits-1:Math.min(i,this.digits-1);const s=this.el.shadowRoot?.querySelectorAll("input")[e];s?.focus()}}handleFocus(t){const i=t.target;i.select()}renderInputs(){const t=[];for(let i=0;i<this.digits;i++){if(this.digits===6&&i===3&&this.showSeparator){t.push(e("span",{key:"separator",class:{separator:true,[`size-${this.size}`]:true}},"-"))}t.push(e("input",{key:i,type:"text",inputmode:"numeric",pattern:"[0-9]",maxLength:1,value:this.values[i]||"",placeholder:this.placeholder&&i<this.placeholder.length?this.placeholder[i]:"",disabled:this.disabled,class:{"verification-input":true,[`size-${this.size}`]:true,error:this.error},onInput:t=>this.handleInputChange(i,t),onKeyDown:t=>this.handleKeyDown(i,t),onPaste:t=>this.handlePaste(t),onFocus:t=>this.handleFocus(t),"aria-label":`Digit ${i+1} of ${this.digits}`}))}return t}render(){const t=this.width?{width:this.width}:{};return e("div",{key:"7690b5bc54608825372174583aee015632f1f30f",class:"input-verification-wrapper",style:t},e("bh-label",{key:"8cde1454d3162ae8750abfbb222b51301a40bbcc",label:this.showLabel?this.label:"",required:this.required,disabled:this.disabled},e("div",{key:"f6692a5af965eb6bf96a58b1144405e78a63b618",class:"input-verification-container"},this.renderInputs())),this.showHintText&&this.hintText&&e("div",{key:"37a9dfb6a9f441e40fdd336a677cbce8ee1ce877",class:{"hint-text":true,error:this.error}},this.hintText))}static get watchers(){return{value:["watchValue"],digits:["watchDigits"]}}};o.style=s;export{o as bh_input_verification};
//# sourceMappingURL=p-67956598.entry.js.map