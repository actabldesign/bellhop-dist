{"version":3,"file":"bh-data-grid.js","sourceRoot":"","sources":["../../../src/components/bh-data-grid/bh-data-grid.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Prop, State, Event, EventEmitter, h, Watch, Element, forceUpdate } from '@stencil/core';\nimport {\n  createTable,\n  getCoreRowModel,\n  getSortedRowModel,\n  getFilteredRowModel,\n  getPaginationRowModel,\n  getExpandedRowModel,\n  getGroupedRowModel,\n  type Table,\n  type ColumnDef,\n  type SortingState,\n  type ColumnFiltersState,\n  type RowSelectionState,\n  type ExpandedState,\n  type VisibilityState,\n  type Row,\n  type Header,\n  type Cell,\n  type TableState,\n  type Updater,\n} from '@tanstack/table-core';\n\nimport type {\n  DataGridSize,\n  DataGridSelectionMode,\n  DataGridEditMode,\n  DataGridLoadingType,\n  DataGridCaptionPosition,\n  DataGridSortChangeEvent,\n  DataGridFilterChangeEvent,\n  DataGridSelectionChangeEvent,\n  DataGridPageChangeEvent,\n  DataGridRowClickEvent,\n  DataGridCellClickEvent,\n  DataGridExpandChangeEvent,\n  DataGridGroupToggleEvent,\n  DataGridEditStartEvent,\n  DataGridEditCancelEvent,\n  DataGridEditSaveEvent,\n  DataGridCellChangeEvent,\n  DataGridValidationErrorEvent,\n  RowData,\n  GetRowIdFn,\n  GetSubRowsFn,\n  DataGridColumnMeta,\n} from './bh-data-grid.types';\n\n// Extend TanStack's ColumnMeta with our custom properties\ndeclare module '@tanstack/table-core' {\n  // eslint-disable-next-line @typescript-eslint/no-empty-object-type\n  interface ColumnMeta<TData, TValue> extends DataGridColumnMeta {}\n}\n\n@Component({\n  tag: 'bh-data-grid',\n  styleUrl: 'bh-data-grid.css',\n  shadow: true,\n})\nexport class BhDataGrid<TData extends RowData = RowData> {\n  @Element() el!: HTMLElement;\n\n  // ===========================================================================\n  // Props - Data\n  // ===========================================================================\n\n  /** Array of data objects to display */\n  @Prop() data: TData[] = [];\n\n  /** Column definitions (TanStack ColumnDef format) */\n  @Prop() columns: ColumnDef<TData, unknown>[] = [];\n\n  /** Function to get unique row ID */\n  @Prop() getRowId?: GetRowIdFn<TData>;\n\n  /** Function to get sub-rows for expansion */\n  @Prop() getSubRows?: GetSubRowsFn<TData>;\n\n  // ===========================================================================\n  // Props - Display\n  // ===========================================================================\n\n  /** Size variant */\n  @Prop() size: DataGridSize = 'default';\n\n  /** Show striped rows */\n  @Prop() striped: boolean = false;\n\n  /** Show borders */\n  @Prop() bordered: boolean = false;\n\n  /** Sticky header */\n  @Prop() stickyHeader: boolean = false;\n\n  /** Max height for scrollable container (enables sticky header) */\n  @Prop() maxHeight?: string;\n\n  /** Caption text */\n  @Prop() caption?: string;\n\n  /** Caption position */\n  @Prop() captionPosition: DataGridCaptionPosition = 'top';\n\n  /** Empty state title */\n  @Prop() emptyTitle: string = 'No data';\n\n  /** Empty state description */\n  @Prop() emptyDescription: string = 'There are no records to display.';\n\n  // ===========================================================================\n  // Props - Loading\n  // ===========================================================================\n\n  /** Loading state */\n  @Prop() loading: boolean = false;\n\n  /** Loading type */\n  @Prop() loadingType: DataGridLoadingType = 'spinner';\n\n  /** Number of skeleton rows to show */\n  @Prop() skeletonRowCount: number = 5;\n\n  // ===========================================================================\n  // Props - Sorting\n  // ===========================================================================\n\n  /** Enable sorting */\n  @Prop() enableSorting: boolean = true;\n\n  /** Enable multi-column sorting */\n  @Prop() enableMultiSort: boolean = false;\n\n  /** Initial/controlled sort state */\n  @Prop({ mutable: true }) sortState: SortingState = [];\n\n  // ===========================================================================\n  // Props - Filtering\n  // ===========================================================================\n\n  /** Enable column filtering */\n  @Prop() enableFiltering: boolean = false;\n\n  /** Enable global filter (search) */\n  @Prop() enableGlobalFilter: boolean = false;\n\n  /** Show filter row below header */\n  @Prop() showFilterRow: boolean = false;\n\n  /** Global filter placeholder text */\n  @Prop() globalFilterPlaceholder: string = 'Search...';\n\n  /** Initial/controlled filter state */\n  @Prop({ mutable: true }) filterState: ColumnFiltersState = [];\n\n  /** Initial/controlled global filter */\n  @Prop({ mutable: true }) globalFilter: string = '';\n\n  // ===========================================================================\n  // Props - Selection\n  // ===========================================================================\n\n  /** Selection mode */\n  @Prop() selectionMode: DataGridSelectionMode = 'none';\n\n  /** Initial/controlled selected row IDs */\n  @Prop({ mutable: true }) selectedRowIds: string[] = [];\n\n  // ===========================================================================\n  // Props - Pagination\n  // ===========================================================================\n\n  /** Enable pagination */\n  @Prop() enablePagination: boolean = false;\n\n  /** Current page (1-indexed) */\n  @Prop({ mutable: true }) page: number = 1;\n\n  /** Page size */\n  @Prop({ mutable: true }) pageSize: number = 10;\n\n  /** Page size options */\n  @Prop() pageSizeOptions: number[] = [10, 25, 50, 100];\n\n  // ===========================================================================\n  // Props - Expansion\n  // ===========================================================================\n\n  /** Enable row expansion */\n  @Prop() enableExpansion: boolean = false;\n\n  /** Initial/controlled expanded row IDs */\n  @Prop({ mutable: true }) expandedRowIds: string[] = [];\n\n  // ===========================================================================\n  // Props - Grouping\n  // ===========================================================================\n\n  /** Enable grouping */\n  @Prop() enableGrouping: boolean = false;\n\n  /** Column IDs to group by */\n  @Prop() groupBy: string[] = [];\n\n  // ===========================================================================\n  // Props - Editing\n  // ===========================================================================\n\n  /** Enable editing */\n  @Prop() enableEditing: boolean = false;\n\n  /** Edit mode */\n  @Prop() editMode: DataGridEditMode = 'cell';\n\n  /** Show edit action buttons */\n  @Prop() showEditActions: boolean = true;\n\n  // ===========================================================================\n  // Internal State\n  // ===========================================================================\n\n  @State() private tableState: Partial<TableState> = {};\n  @State() private editingRowId: string | null = null;\n  @State() private editingColumnId: string | null = null;\n  @State() private editingValues: Record<string, unknown> = {};\n  @State() private validationErrors: Record<string, string> = {};\n  @State() private hoveredRowId: string | null = null;\n\n  private table: Table<TData> | null = null;\n\n  // ===========================================================================\n  // Events\n  // ===========================================================================\n\n  @Event() bhSortChange!: EventEmitter<DataGridSortChangeEvent>;\n  @Event() bhFilterChange!: EventEmitter<DataGridFilterChangeEvent>;\n  @Event() bhSelectionChange!: EventEmitter<DataGridSelectionChangeEvent>;\n  @Event() bhPageChange!: EventEmitter<DataGridPageChangeEvent>;\n  @Event() bhRowClick!: EventEmitter<DataGridRowClickEvent>;\n  @Event() bhCellClick!: EventEmitter<DataGridCellClickEvent>;\n  @Event() bhExpandChange!: EventEmitter<DataGridExpandChangeEvent>;\n  @Event() bhGroupToggle!: EventEmitter<DataGridGroupToggleEvent>;\n  @Event() bhEditStart!: EventEmitter<DataGridEditStartEvent>;\n  @Event() bhEditCancel!: EventEmitter<DataGridEditCancelEvent>;\n  @Event() bhEditSave!: EventEmitter<DataGridEditSaveEvent>;\n  @Event() bhCellChange!: EventEmitter<DataGridCellChangeEvent>;\n  @Event() bhValidationError!: EventEmitter<DataGridValidationErrorEvent>;\n\n  // ===========================================================================\n  // Watchers\n  // ===========================================================================\n\n  @Watch('data')\n  @Watch('columns')\n  handleDataChange() {\n    this.initializeTable();\n  }\n\n  @Watch('sortState')\n  handleSortStateChange(newValue: SortingState) {\n    if (this.table) {\n      this.table.setSorting(newValue);\n    }\n  }\n\n  @Watch('filterState')\n  handleFilterStateChange(newValue: ColumnFiltersState) {\n    if (this.table) {\n      this.table.setColumnFilters(newValue);\n    }\n  }\n\n  @Watch('selectedRowIds')\n  handleSelectedRowIdsChange(newValue: string[]) {\n    if (this.table) {\n      const selection: RowSelectionState = {};\n      newValue.forEach(id => { selection[id] = true; });\n      this.table.setRowSelection(selection);\n    }\n  }\n\n  @Watch('page')\n  @Watch('pageSize')\n  handlePaginationPropChange() {\n    if (this.table) {\n      this.table.setPagination({\n        pageIndex: this.page - 1,\n        pageSize: this.pageSize,\n      });\n    }\n  }\n\n  @Watch('expandedRowIds')\n  handleExpandedRowIdsChange(newValue: string[]) {\n    if (this.table) {\n      const expanded: ExpandedState = {};\n      newValue.forEach(id => { expanded[id] = true; });\n      this.table.setExpanded(expanded);\n    }\n  }\n\n  @Watch('groupBy')\n  handleGroupByChange(newValue: string[]) {\n    if (this.table) {\n      this.table.setGrouping(newValue);\n    }\n  }\n\n  // ===========================================================================\n  // Lifecycle\n  // ===========================================================================\n\n  componentWillLoad() {\n    this.initializeTable();\n  }\n\n  // ===========================================================================\n  // Table Initialization\n  // ===========================================================================\n\n  private initializeTable() {\n    // Build initial state\n    const initialState: Partial<TableState> = {\n      sorting: this.sortState,\n      columnFilters: this.filterState,\n      globalFilter: this.globalFilter,\n      rowSelection: this.buildRowSelection(),\n      expanded: this.buildExpanded(),\n      pagination: {\n        pageIndex: this.page - 1,\n        pageSize: this.pageSize,\n      },\n      grouping: this.groupBy,\n      columnVisibility: this.buildColumnVisibility(),\n      columnPinning: { left: [], right: [] },\n      columnSizing: {},\n    };\n\n    this.tableState = initialState;\n\n    // Create table instance\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    this.table = createTable({\n      data: this.data,\n      columns: this.columns,\n      state: this.tableState as TableState,\n      onStateChange: (updater: Updater<TableState>) => {\n        const newState = typeof updater === 'function'\n          ? updater(this.tableState as TableState)\n          : updater;\n        this.handleStateChange(newState);\n      },\n      getCoreRowModel: getCoreRowModel(),\n      getSortedRowModel: this.enableSorting ? getSortedRowModel() : undefined,\n      getFilteredRowModel: this.enableFiltering || this.enableGlobalFilter ? getFilteredRowModel() : undefined,\n      getPaginationRowModel: this.enablePagination ? getPaginationRowModel() : undefined,\n      getExpandedRowModel: this.enableExpansion || this.enableGrouping ? getExpandedRowModel() : undefined,\n      getGroupedRowModel: this.enableGrouping ? getGroupedRowModel() : undefined,\n      getRowId: this.getRowId || ((row, index) => String((row as Record<string, unknown>).id ?? index)),\n      getSubRows: this.getSubRows,\n      enableRowSelection: this.selectionMode !== 'none',\n      enableMultiRowSelection: this.selectionMode === 'multiple-click' || this.selectionMode === 'multiple-checkbox',\n      enableSorting: this.enableSorting,\n      enableFilters: this.enableFiltering || this.enableGlobalFilter,\n      enableExpanding: this.enableExpansion || this.enableGrouping,\n      enableGrouping: this.enableGrouping,\n      manualPagination: false,\n      autoResetExpanded: false,\n      renderFallbackValue: null,\n    } as any);\n\n    // Force update after table creation\n    forceUpdate(this.el);\n  }\n\n  private handleStateChange(newState: TableState) {\n    const oldState = this.tableState;\n    this.tableState = newState;\n\n    // Update table options with new state\n    if (this.table) {\n      this.table.setOptions(prev => ({\n        ...prev,\n        state: newState,\n      }));\n    }\n\n    // Emit events for state changes\n    if (JSON.stringify(oldState.sorting) !== JSON.stringify(newState.sorting)) {\n      this.sortState = newState.sorting;\n      this.bhSortChange.emit({ sorting: newState.sorting });\n    }\n\n    if (JSON.stringify(oldState.columnFilters) !== JSON.stringify(newState.columnFilters) ||\n        oldState.globalFilter !== newState.globalFilter) {\n      this.filterState = newState.columnFilters;\n      this.globalFilter = newState.globalFilter;\n      this.bhFilterChange.emit({\n        columnFilters: newState.columnFilters,\n        globalFilter: newState.globalFilter,\n      });\n    }\n\n    if (JSON.stringify(oldState.rowSelection) !== JSON.stringify(newState.rowSelection)) {\n      const selectedIds = Object.keys(newState.rowSelection).filter(id => newState.rowSelection[id]);\n      this.selectedRowIds = selectedIds;\n      const selectedRows = this.table?.getSelectedRowModel().rows.map(r => r.original) ?? [];\n      this.bhSelectionChange.emit({\n        selectedRowIds: selectedIds,\n        selectedRows,\n      });\n    }\n\n    if (oldState.pagination?.pageIndex !== newState.pagination?.pageIndex ||\n        oldState.pagination?.pageSize !== newState.pagination?.pageSize) {\n      this.page = newState.pagination.pageIndex + 1;\n      this.pageSize = newState.pagination.pageSize;\n      this.bhPageChange.emit({\n        page: this.page,\n        pageSize: this.pageSize,\n      });\n    }\n\n    // Force re-render\n    forceUpdate(this.el);\n  }\n\n  private buildRowSelection(): RowSelectionState {\n    const selection: RowSelectionState = {};\n    this.selectedRowIds.forEach(id => { selection[id] = true; });\n    return selection;\n  }\n\n  private buildExpanded(): ExpandedState {\n    const expanded: ExpandedState = {};\n    this.expandedRowIds.forEach(id => { expanded[id] = true; });\n    return expanded;\n  }\n\n  private buildColumnVisibility(): VisibilityState {\n    // Hide grouped columns\n    const visibility: VisibilityState = {};\n    if (this.enableGrouping) {\n      this.groupBy.forEach(colId => { visibility[colId] = false; });\n    }\n    return visibility;\n  }\n\n  // ===========================================================================\n  // Event Handlers\n  // ===========================================================================\n\n  private handleRowClick = (row: Row<TData>) => {\n    const rowId = row.id;\n\n    // Handle click-based selection\n    if (this.selectionMode === 'single-click') {\n      const isSelected = row.getIsSelected();\n      this.table?.resetRowSelection();\n      if (!isSelected) {\n        row.toggleSelected(true);\n      }\n    } else if (this.selectionMode === 'multiple-click') {\n      row.toggleSelected();\n    }\n\n    this.bhRowClick.emit({\n      row: row.original,\n      rowId,\n      rowIndex: row.index,\n    });\n  };\n\n  private handleCellClick = (row: Row<TData>, cell: Cell<TData, unknown>) => {\n    this.bhCellClick.emit({\n      row: row.original,\n      rowId: row.id,\n      rowIndex: row.index,\n      columnId: cell.column.id,\n      value: cell.getValue(),\n    });\n  };\n\n  private handleHeaderClick = (header: Header<TData, unknown>) => {\n    if (this.enableSorting && header.column.getCanSort()) {\n      header.column.toggleSorting(undefined, this.enableMultiSort);\n    }\n  };\n\n  private handleRowExpand = (row: Row<TData>) => {\n    const wasExpanded = row.getIsExpanded();\n    row.toggleExpanded();\n\n    this.bhExpandChange.emit({\n      rowId: row.id,\n      expanded: !wasExpanded,\n    });\n  };\n\n  private handleGroupToggle = (row: Row<TData>) => {\n    const wasExpanded = row.getIsExpanded();\n    row.toggleExpanded();\n\n    this.bhGroupToggle.emit({\n      groupId: row.id,\n      expanded: !wasExpanded,\n    });\n  };\n\n  private handleGlobalFilterChange = (event: Event) => {\n    const input = event.target as HTMLInputElement;\n    this.table?.setGlobalFilter(input.value);\n  };\n\n  private handleColumnFilterChange = (columnId: string, value: string) => {\n    const column = this.table?.getColumn(columnId);\n    if (column) {\n      column.setFilterValue(value || undefined);\n    }\n  };\n\n  private handlePaginationChange = (event: CustomEvent) => {\n    const { page, pageSize } = event.detail;\n    this.table?.setPagination({\n      pageIndex: page - 1,\n      pageSize,\n    });\n  };\n\n  // ===========================================================================\n  // Editing Handlers\n  // ===========================================================================\n\n  private startEditing = (row: Row<TData>, columnId?: string) => {\n    if (!this.enableEditing) return;\n\n    this.editingRowId = row.id;\n    this.editingColumnId = this.editMode === 'cell' ? (columnId || null) : null;\n\n    // Initialize editing values from current row\n    const values: Record<string, unknown> = {};\n    this.columns.forEach(col => {\n      const colId = (col as { accessorKey?: string }).accessorKey || col.id;\n      if (colId) {\n        values[colId] = row.original[colId as keyof TData];\n      }\n    });\n    this.editingValues = values;\n    this.validationErrors = {};\n\n    this.bhEditStart.emit({\n      rowId: row.id,\n      row: row.original,\n      columnId,\n    });\n  };\n\n  private cancelEditing = () => {\n    if (!this.editingRowId) return;\n\n    const row = this.table?.getRow(this.editingRowId);\n    if (row) {\n      this.bhEditCancel.emit({\n        rowId: this.editingRowId,\n        row: row.original,\n      });\n    }\n\n    this.editingRowId = null;\n    this.editingColumnId = null;\n    this.editingValues = {};\n    this.validationErrors = {};\n  };\n\n  private saveEditing = () => {\n    if (!this.editingRowId || !this.table) return;\n\n    const row = this.table.getRow(this.editingRowId);\n    if (!row) return;\n\n    // Validate all edited values\n    const errors: Record<string, string> = {};\n    for (const [columnId, value] of Object.entries(this.editingValues)) {\n      const column = this.table.getColumn(columnId);\n      const validate = column?.columnDef.meta?.validate;\n      if (validate) {\n        const error = validate(value, row.original);\n        if (error) {\n          errors[columnId] = error;\n          this.bhValidationError.emit({\n            rowId: this.editingRowId,\n            columnId,\n            value,\n            error,\n          });\n        }\n      }\n    }\n\n    if (Object.keys(errors).length > 0) {\n      this.validationErrors = errors;\n      return;\n    }\n\n    // Determine changes\n    const changes: Record<string, unknown> = {};\n    for (const [columnId, newValue] of Object.entries(this.editingValues)) {\n      const originalValue = row.original[columnId as keyof TData];\n      if (originalValue !== newValue) {\n        changes[columnId] = newValue;\n      }\n    }\n\n    // Build new row\n    const newRow = { ...row.original, ...changes } as TData;\n\n    this.bhEditSave.emit({\n      rowId: this.editingRowId,\n      rowIndex: row.index,\n      originalRow: row.original,\n      changes,\n      newRow,\n    });\n\n    this.editingRowId = null;\n    this.editingColumnId = null;\n    this.editingValues = {};\n    this.validationErrors = {};\n  };\n\n  private handleEditValueChange = (columnId: string, newValue: unknown) => {\n    const oldValue = this.editingValues[columnId];\n    this.editingValues = { ...this.editingValues, [columnId]: newValue };\n\n    // Clear validation error for this column\n    if (this.validationErrors[columnId]) {\n      const { [columnId]: _, ...rest } = this.validationErrors;\n      this.validationErrors = rest;\n    }\n\n    if (this.editingRowId) {\n      this.bhCellChange.emit({\n        rowId: this.editingRowId,\n        columnId,\n        oldValue,\n        newValue,\n      });\n    }\n  };\n\n  private handleEditKeyDown = (event: KeyboardEvent, columnId: string) => {\n    if (event.key === 'Enter') {\n      event.preventDefault();\n      this.saveEditing();\n    } else if (event.key === 'Escape') {\n      event.preventDefault();\n      this.cancelEditing();\n    } else if (event.key === 'Tab' && this.editMode === 'cell') {\n      event.preventDefault();\n      this.moveToNextEditableCell(columnId, event.shiftKey);\n    }\n  };\n\n  private moveToNextEditableCell = (currentColumnId: string, reverse: boolean) => {\n    const editableColumns = this.columns.filter(col => col.meta?.editable !== false);\n    const currentIndex = editableColumns.findIndex(col => {\n      const colId = (col as { accessorKey?: string }).accessorKey || col.id;\n      return colId === currentColumnId;\n    });\n\n    if (currentIndex === -1) return;\n\n    const nextIndex = reverse ? currentIndex - 1 : currentIndex + 1;\n\n    if (nextIndex >= 0 && nextIndex < editableColumns.length) {\n      const nextCol = editableColumns[nextIndex];\n      const nextColId = (nextCol as { accessorKey?: string }).accessorKey || nextCol.id;\n      this.editingColumnId = nextColId || null;\n    } else {\n      this.saveEditing();\n    }\n  };\n\n  private isEditing(rowId: string, columnId?: string): boolean {\n    if (this.editingRowId !== rowId) return false;\n    if (this.editMode === 'cell') {\n      return columnId ? this.editingColumnId === columnId : false;\n    }\n    return true;\n  }\n\n  private handleCellDoubleClick = (row: Row<TData>, cell: Cell<TData, unknown>) => {\n    if (!this.enableEditing || cell.column.columnDef.meta?.editable === false) return;\n    if (this.editMode === 'cell') {\n      this.startEditing(row, cell.column.id);\n    }\n  };\n\n  // ===========================================================================\n  // Render Helpers\n  // ===========================================================================\n\n  private flexRender(renderer: unknown, context: unknown): unknown {\n    if (typeof renderer === 'function') {\n      return renderer(context);\n    }\n    return renderer;\n  }\n\n  private formatCellValue(value: unknown, meta?: { type?: string; numberFormat?: Intl.NumberFormatOptions; dateFormat?: Intl.DateTimeFormatOptions }): string {\n    if (value === null || value === undefined) return '';\n\n    switch (meta?.type) {\n      case 'number':\n        return typeof value === 'number'\n          ? value.toLocaleString(undefined, meta.numberFormat)\n          : String(value);\n      case 'date':\n        return value instanceof Date\n          ? value.toLocaleDateString(undefined, meta.dateFormat)\n          : new Date(value as string).toLocaleDateString(undefined, meta.dateFormat);\n      case 'boolean':\n        return value ? 'Yes' : 'No';\n      default:\n        return String(value);\n    }\n  }\n\n  // ===========================================================================\n  // Render Methods\n  // ===========================================================================\n\n  private renderCaption() {\n    if (!this.caption) return null;\n\n    const captionClasses = {\n      'data-grid-caption': true,\n      [`data-grid-caption-${this.captionPosition}`]: true,\n    };\n\n    return (\n      <div class={captionClasses}>\n        <slot name=\"caption\">{this.caption}</slot>\n      </div>\n    );\n  }\n\n  private renderGlobalFilter() {\n    if (!this.enableGlobalFilter) return null;\n\n    return (\n      <div class=\"data-grid-global-filter\">\n        <span class=\"data-grid-search-icon material-symbols-outlined\">search</span>\n        <input\n          type=\"text\"\n          class=\"data-grid-global-filter-input\"\n          placeholder={this.globalFilterPlaceholder}\n          value={this.globalFilter}\n          onInput={this.handleGlobalFilterChange}\n        />\n      </div>\n    );\n  }\n\n  private renderHeader() {\n    if (!this.table) return null;\n\n    const headerGroups = this.table.getHeaderGroups();\n\n    return (\n      <div class={{ 'data-grid-header': true, 'data-grid-header-sticky': this.stickyHeader }}>\n        {headerGroups.map(headerGroup => (\n          <div class=\"data-grid-header-row\" role=\"row\" key={headerGroup.id}>\n            {/* Selection column */}\n            {this.renderSelectionHeader()}\n\n            {/* Expansion column */}\n            {this.enableExpansion && !this.enableGrouping && (\n              <div class=\"data-grid-header-cell data-grid-cell-expand\" role=\"columnheader\" />\n            )}\n\n            {/* Data columns */}\n            {headerGroup.headers.map(header => this.renderHeaderCell(header))}\n\n            {/* Edit actions column */}\n            {this.enableEditing && this.showEditActions && this.editMode === 'row' && (\n              <div class=\"data-grid-header-cell data-grid-cell-actions\" role=\"columnheader\" />\n            )}\n          </div>\n        ))}\n\n        {/* Filter row */}\n        {this.showFilterRow && this.renderFilterRow()}\n      </div>\n    );\n  }\n\n  private renderSelectionHeader() {\n    if (this.selectionMode === 'none' || this.selectionMode === 'single-click' || this.selectionMode === 'multiple-click') {\n      return null;\n    }\n\n    if (this.selectionMode === 'single-radio') {\n      return <div class=\"data-grid-header-cell data-grid-cell-select\" role=\"columnheader\" />;\n    }\n\n    // Multiple checkbox - show select all\n    const isAllSelected = this.table?.getIsAllRowsSelected();\n    const isSomeSelected = this.table?.getIsSomeRowsSelected();\n\n    return (\n      <div class=\"data-grid-header-cell data-grid-cell-select\" role=\"columnheader\">\n        <bh-checkbox\n          size=\"sm\"\n          checked={isAllSelected}\n          indeterminate={isSomeSelected && !isAllSelected}\n          onBhChange={() => this.table?.toggleAllRowsSelected()}\n        />\n      </div>\n    );\n  }\n\n  private renderHeaderCell(header: Header<TData, unknown>) {\n    if (header.isPlaceholder) {\n      return <div class=\"data-grid-header-cell\" role=\"columnheader\" key={header.id} />;\n    }\n\n    const canSort = header.column.getCanSort();\n    const sortDirection = header.column.getIsSorted();\n    const meta = header.column.columnDef.meta;\n\n    const cellClasses = {\n      'data-grid-header-cell': true,\n      'data-grid-header-cell-sortable': canSort,\n      'data-grid-header-cell-sorted': !!sortDirection,\n      [`data-grid-cell-align-${meta?.align || 'left'}`]: true,\n    };\n\n    const style = header.column.getSize()\n      ? { width: `${header.column.getSize()}px` }\n      : {};\n\n    return (\n      <div\n        class={cellClasses}\n        style={style}\n        role=\"columnheader\"\n        aria-sort={sortDirection === 'asc' ? 'ascending' : sortDirection === 'desc' ? 'descending' : 'none'}\n        onClick={() => canSort && this.handleHeaderClick(header)}\n        key={header.id}\n      >\n        <span class=\"data-grid-header-text\">\n          {this.flexRender(header.column.columnDef.header, header.getContext())}\n        </span>\n        {canSort && sortDirection && (\n          <span class=\"data-grid-sort-icon material-symbols-outlined\">\n            {sortDirection === 'asc' ? 'arrow_upward' : 'arrow_downward'}\n          </span>\n        )}\n      </div>\n    );\n  }\n\n  private renderFilterRow() {\n    if (!this.table) return null;\n\n    const headers = this.table.getHeaderGroups()[0]?.headers || [];\n\n    return (\n      <div class=\"data-grid-filter-row\" role=\"row\">\n        {/* Selection column placeholder */}\n        {(this.selectionMode === 'single-radio' || this.selectionMode === 'multiple-checkbox') && (\n          <div class=\"data-grid-filter-cell data-grid-cell-select\" role=\"cell\" />\n        )}\n\n        {/* Expansion column placeholder */}\n        {this.enableExpansion && !this.enableGrouping && (\n          <div class=\"data-grid-filter-cell data-grid-cell-expand\" role=\"cell\" />\n        )}\n\n        {/* Column filters */}\n        {headers.map(header => {\n          const canFilter = header.column.getCanFilter();\n          const meta = header.column.columnDef.meta;\n\n          if (!canFilter || meta?.filterable === false) {\n            return <div class=\"data-grid-filter-cell\" role=\"cell\" key={header.id} />;\n          }\n\n          const filterValue = (header.column.getFilterValue() as string) ?? '';\n\n          return (\n            <div class=\"data-grid-filter-cell\" role=\"cell\" key={header.id}>\n              <input\n                type={meta?.type === 'number' ? 'number' : meta?.type === 'date' ? 'date' : 'text'}\n                class=\"data-grid-filter-input\"\n                placeholder={`Filter...`}\n                value={filterValue}\n                onInput={(e) => this.handleColumnFilterChange(header.column.id, (e.target as HTMLInputElement).value)}\n              />\n            </div>\n          );\n        })}\n\n        {/* Edit actions column placeholder */}\n        {this.enableEditing && this.showEditActions && this.editMode === 'row' && (\n          <div class=\"data-grid-filter-cell data-grid-cell-actions\" role=\"cell\" />\n        )}\n      </div>\n    );\n  }\n\n  private renderBody() {\n    if (!this.table) return null;\n\n    // Loading skeleton\n    if (this.loading && this.loadingType === 'skeleton') {\n      return this.renderSkeleton();\n    }\n\n    const rows = this.table.getRowModel().rows;\n\n    // Empty state\n    if (rows.length === 0) {\n      return this.renderEmptyState();\n    }\n\n    return (\n      <div class=\"data-grid-body\" role=\"rowgroup\">\n        {rows.map(row => {\n          if (row.getIsGrouped()) {\n            return this.renderGroupRow(row);\n          }\n          return this.renderDataRow(row);\n        })}\n      </div>\n    );\n  }\n\n  private renderDataRow(row: Row<TData>) {\n    const isSelected = row.getIsSelected();\n    const isExpanded = row.getIsExpanded();\n    const isRowEditing = this.editingRowId === row.id;\n\n    const rowClasses = {\n      'data-grid-row': true,\n      'data-grid-row-selected': isSelected,\n      'data-grid-row-expanded': isExpanded,\n      'data-grid-row-editing': isRowEditing,\n      'data-grid-row-hover': this.hoveredRowId === row.id,\n      'data-grid-row-striped': this.striped && row.index % 2 === 1,\n      'data-grid-row-clickable': this.selectionMode === 'single-click' || this.selectionMode === 'multiple-click',\n    };\n\n    return [\n      <div\n        class={rowClasses}\n        role=\"row\"\n        aria-selected={isSelected ? 'true' : 'false'}\n        key={row.id}\n        onClick={() => this.handleRowClick(row)}\n        onMouseEnter={() => { this.hoveredRowId = row.id; }}\n        onMouseLeave={() => { this.hoveredRowId = null; }}\n      >\n        {/* Selection cell */}\n        {this.renderSelectionCell(row)}\n\n        {/* Expansion cell */}\n        {this.enableExpansion && !this.enableGrouping && (\n          <div class=\"data-grid-cell data-grid-cell-expand\" role=\"cell\" onClick={(e) => { e.stopPropagation(); }}>\n            {row.getCanExpand() && (\n              <button\n                class=\"data-grid-expand-btn\"\n                onClick={() => this.handleRowExpand(row)}\n                aria-label={isExpanded ? 'Collapse row' : 'Expand row'}\n              >\n                <span class=\"material-symbols-outlined\">\n                  {isExpanded ? 'expand_more' : 'chevron_right'}\n                </span>\n              </button>\n            )}\n          </div>\n        )}\n\n        {/* Data cells */}\n        {row.getVisibleCells().map(cell => this.renderCell(row, cell))}\n\n        {/* Edit actions cell */}\n        {this.enableEditing && this.showEditActions && this.editMode === 'row' && (\n          <div class=\"data-grid-cell data-grid-cell-actions\" role=\"cell\" onClick={(e) => e.stopPropagation()}>\n            {isRowEditing ? (\n              <div class=\"data-grid-edit-actions\">\n                <button class=\"data-grid-action-btn\" onClick={() => this.saveEditing()} title=\"Save\">\n                  <span class=\"material-symbols-outlined\">check</span>\n                </button>\n                <button class=\"data-grid-action-btn\" onClick={() => this.cancelEditing()} title=\"Cancel\">\n                  <span class=\"material-symbols-outlined\">close</span>\n                </button>\n              </div>\n            ) : (\n              <button class=\"data-grid-action-btn\" onClick={() => this.startEditing(row)} title=\"Edit\">\n                <span class=\"material-symbols-outlined\">edit</span>\n              </button>\n            )}\n          </div>\n        )}\n      </div>,\n\n      // Expanded content\n      isExpanded && this.enableExpansion && !this.enableGrouping && (\n        <div class=\"data-grid-row-expansion\" key={`${row.id}-expansion`}>\n          <slot name=\"expanded-row\" />\n        </div>\n      ),\n    ];\n  }\n\n  private renderSelectionCell(row: Row<TData>) {\n    if (this.selectionMode === 'none' || this.selectionMode === 'single-click' || this.selectionMode === 'multiple-click') {\n      return null;\n    }\n\n    const isSelected = row.getIsSelected();\n\n    if (this.selectionMode === 'single-radio') {\n      return (\n        <div class=\"data-grid-cell data-grid-cell-select\" role=\"cell\" onClick={(e) => e.stopPropagation()}>\n          <bh-radio-button\n            selected={isSelected}\n            onBhChange={() => {\n              this.table?.resetRowSelection();\n              row.toggleSelected(true);\n            }}\n          />\n        </div>\n      );\n    }\n\n    // Multiple checkbox\n    return (\n      <div class=\"data-grid-cell data-grid-cell-select\" role=\"cell\" onClick={(e) => e.stopPropagation()}>\n        <bh-checkbox\n          size=\"sm\"\n          checked={isSelected}\n          onBhChange={() => row.toggleSelected()}\n        />\n      </div>\n    );\n  }\n\n  private renderCell(row: Row<TData>, cell: Cell<TData, unknown>) {\n    const meta = cell.column.columnDef.meta;\n    const columnId = cell.column.id;\n    const isCellEditing = this.isEditing(row.id, columnId);\n    const canEdit = this.enableEditing && meta?.editable !== false;\n    const hasError = !!this.validationErrors[columnId];\n\n    const cellClasses = {\n      'data-grid-cell': true,\n      [`data-grid-cell-align-${meta?.align || (meta?.type === 'number' ? 'right' : 'left')}`]: true,\n      [`data-grid-cell-type-${meta?.type || 'text'}`]: true,\n      'data-grid-cell-editing': isCellEditing,\n      'data-grid-cell-editable': canEdit && !isCellEditing,\n      'data-grid-cell-error': hasError,\n    };\n\n    const style = cell.column.getSize()\n      ? { width: `${cell.column.getSize()}px` }\n      : {};\n\n    return (\n      <div\n        class={cellClasses}\n        style={style}\n        role=\"cell\"\n        key={cell.id}\n        onClick={(e) => {\n          e.stopPropagation();\n          this.handleCellClick(row, cell);\n        }}\n        onDblClick={(e) => {\n          e.stopPropagation();\n          this.handleCellDoubleClick(row, cell);\n        }}\n      >\n        {isCellEditing ? this.renderEditInput(cell) : this.renderCellContent(cell)}\n        {hasError && (\n          <span class=\"data-grid-cell-error-text\">{this.validationErrors[columnId]}</span>\n        )}\n      </div>\n    );\n  }\n\n  private renderCellContent(cell: Cell<TData, unknown>) {\n    const rendered = this.flexRender(cell.column.columnDef.cell, cell.getContext());\n\n    // If custom cell renderer returns something, use it\n    if (rendered !== undefined && rendered !== null && rendered !== cell.getValue()) {\n      return rendered;\n    }\n\n    // Default formatting\n    return this.formatCellValue(cell.getValue(), cell.column.columnDef.meta);\n  }\n\n  private renderEditInput(cell: Cell<TData, unknown>) {\n    const columnId = cell.column.id;\n    const meta = cell.column.columnDef.meta;\n    const currentValue = this.editingValues[columnId] ?? cell.getValue();\n\n    const inputType = meta?.type === 'number' ? 'number'\n      : meta?.type === 'date' ? 'date'\n      : meta?.type === 'boolean' ? 'checkbox'\n      : 'text';\n\n    if (meta?.type === 'boolean') {\n      return (\n        <bh-checkbox\n          size=\"sm\"\n          checked={Boolean(currentValue)}\n          onBhChange={(e: CustomEvent) => this.handleEditValueChange(columnId, e.detail.checked)}\n        />\n      );\n    }\n\n    return (\n      <input\n        type={inputType}\n        class=\"data-grid-edit-input\"\n        value={currentValue != null ? String(currentValue) : ''}\n        onInput={(e) => {\n          const input = e.target as HTMLInputElement;\n          const newValue = meta?.type === 'number' ? Number(input.value) : input.value;\n          this.handleEditValueChange(columnId, newValue);\n        }}\n        onKeyDown={(e) => this.handleEditKeyDown(e, columnId)}\n        ref={(el) => el && requestAnimationFrame(() => el.focus())}\n      />\n    );\n  }\n\n  private renderGroupRow(row: Row<TData>): (HTMLElement | unknown)[] {\n    const isExpanded = row.getIsExpanded();\n    const groupingColumnId = row.groupingColumnId!;\n    const groupValue = row.groupingValue;\n    const leafRows = row.getLeafRows();\n\n    // Check if all leaf rows are selected for group selection\n    const allSelected = leafRows.every(r => r.getIsSelected());\n    const someSelected = leafRows.some(r => r.getIsSelected());\n\n    const rowClasses = {\n      'data-grid-row': true,\n      'data-grid-row-group': true,\n      'data-grid-row-group-expanded': isExpanded,\n    };\n\n    return [\n      <div\n        class={rowClasses}\n        role=\"row\"\n        aria-expanded={isExpanded ? 'true' : 'false'}\n        key={row.id}\n        onClick={() => this.handleGroupToggle(row)}\n      >\n        {/* Group selection checkbox */}\n        {this.selectionMode === 'multiple-checkbox' && (\n          <div class=\"data-grid-cell data-grid-cell-select\" role=\"cell\" onClick={(e) => e.stopPropagation()}>\n            <bh-checkbox\n              size=\"sm\"\n              checked={allSelected}\n              indeterminate={someSelected && !allSelected}\n              onBhChange={() => {\n                leafRows.forEach(r => r.toggleSelected(!allSelected));\n              }}\n            />\n          </div>\n        )}\n\n        {/* Group toggle and label */}\n        <div class=\"data-grid-cell data-grid-cell-group-label\" role=\"cell\">\n          <button class=\"data-grid-group-toggle\" aria-label={isExpanded ? 'Collapse group' : 'Expand group'}>\n            <span class=\"material-symbols-outlined\">\n              {isExpanded ? 'expand_more' : 'chevron_right'}\n            </span>\n          </button>\n          <span class=\"data-grid-group-label\">\n            <span class=\"data-grid-group-column\">{groupingColumnId}: </span>\n            <span class=\"data-grid-group-value\">{String(groupValue)}</span>\n          </span>\n          <span class=\"data-grid-group-count\">\n            ({leafRows.length} {leafRows.length === 1 ? 'item' : 'items'})\n          </span>\n        </div>\n      </div>,\n\n      // Render child rows if expanded\n      isExpanded && row.subRows.map(subRow => {\n        if (subRow.getIsGrouped()) {\n          return this.renderGroupRow(subRow);\n        }\n        return this.renderDataRow(subRow);\n      }),\n    ];\n  }\n\n  private renderEmptyState() {\n    return (\n      <div class=\"data-grid-empty\">\n        <bh-empty-state\n          emptyTitle={this.emptyTitle}\n          description={this.emptyDescription}\n        />\n      </div>\n    );\n  }\n\n  private renderSkeleton() {\n    const skeletonRows = Array.from({ length: this.skeletonRowCount }, (_, i) => i);\n    const columnCount = this.columns.length +\n      (this.selectionMode === 'single-radio' || this.selectionMode === 'multiple-checkbox' ? 1 : 0) +\n      (this.enableExpansion && !this.enableGrouping ? 1 : 0) +\n      (this.enableEditing && this.showEditActions && this.editMode === 'row' ? 1 : 0);\n\n    return (\n      <div class=\"data-grid-body data-grid-skeleton\" role=\"rowgroup\">\n        {skeletonRows.map(i => (\n          <div class=\"data-grid-row data-grid-row-skeleton\" role=\"row\" key={i}>\n            {Array.from({ length: columnCount }, (_, j) => (\n              <div class=\"data-grid-cell\" role=\"cell\" key={j}>\n                <bh-skeleton-loader width=\"80%\" height=\"16px\" />\n              </div>\n            ))}\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  private renderLoadingOverlay() {\n    if (!this.loading || this.loadingType !== 'spinner') return null;\n\n    return (\n      <div class=\"data-grid-loading-overlay\">\n        <bh-loader-spinner size=\"lg\" />\n      </div>\n    );\n  }\n\n  private renderPagination() {\n    if (!this.enablePagination || !this.table) return null;\n\n    const rowCount = this.table.getFilteredRowModel().rows.length;\n\n    return (\n      <bh-pagination\n        page={this.page}\n        totalItems={rowCount}\n        pageSize={this.pageSize}\n        pageSizeOptions={this.pageSizeOptions}\n        onBhPageChange={this.handlePaginationChange}\n        onBhPageSizeChange={this.handlePaginationChange}\n      />\n    );\n  }\n\n  // ===========================================================================\n  // Main Render\n  // ===========================================================================\n\n  render() {\n    const gridClasses = {\n      'data-grid': true,\n      [`data-grid-${this.size}`]: true,\n      'data-grid-bordered': this.bordered,\n      'data-grid-striped': this.striped,\n      'data-grid-loading': this.loading,\n    };\n\n    const containerStyle = this.maxHeight\n      ? { maxHeight: this.maxHeight, overflowY: 'auto' as const }\n      : {};\n\n    return (\n      <div class={gridClasses} role=\"grid\" aria-busy={this.loading ? 'true' : 'false'}>\n        {/* Caption (top) */}\n        {this.captionPosition === 'top' && this.renderCaption()}\n\n        {/* Global filter */}\n        {this.renderGlobalFilter()}\n\n        {/* Table container */}\n        <div class=\"data-grid-container\" style={containerStyle}>\n          <div class=\"data-grid-table\">\n            {this.renderHeader()}\n            {this.renderBody()}\n          </div>\n          {this.renderLoadingOverlay()}\n        </div>\n\n        {/* Caption (bottom) */}\n        {this.captionPosition === 'bottom' && this.renderCaption()}\n\n        {/* Pagination */}\n        {this.renderPagination()}\n      </div>\n    );\n  }\n}\n"]}