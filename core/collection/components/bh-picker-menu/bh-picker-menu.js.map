{"version":3,"file":"bh-picker-menu.js","sourceRoot":"","sources":["../../../src/components/bh-picker-menu/bh-picker-menu.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Prop, State, Event, EventEmitter, Watch, h, Host } from '@stencil/core';\nimport { MonthYear, DisabledMonth } from '../bh-month-picker-content/bh-month-picker-content';\n\n@Component({\n  tag: 'bh-picker-menu',\n  styleUrl: 'bh-picker-menu.css',\n  shadow: true,\n})\nexport class BhPickerMenu {\n  /**\n   * Minimum year in the picker\n   */\n  @Prop() minYear: number = 1998;\n\n  /**\n   * Maximum year in the picker\n   */\n  @Prop() maxYear: number = 2060;\n\n  /**\n   * Whether the picker is disabled\n   */\n  @Prop() disabled: boolean = false;\n\n  /**\n   * Array of disabled months\n   */\n  @Prop() disabledMonths: DisabledMonth[] = [];\n\n  /**\n   * Animation class for the menu\n   */\n  @Prop() animationClass: string = 'animate-dropdown-enter';\n\n  /**\n   * Whether the menu is visible\n   */\n  @Prop() visible: boolean = true;\n\n  /**\n   * Whether to show the footer with action buttons\n   */\n  @Prop() showFooter: boolean = true;\n\n  /**\n   * Whether to show the today button\n   */\n  @Prop() showTodayButton: boolean = false;\n\n  /**\n   * Whether the apply button is disabled\n   */\n  @Prop() disableApply: boolean = false;\n\n  /**\n   * Current value\n   */\n  @Prop() value?: MonthYear;\n\n  @State() isClosing: boolean = false;\n  @State() shouldRender: boolean = true;\n  @State() selectedMonth: number | null = null;\n  @State() selectedYear: number | null = null;\n\n  /**\n   * Event emitted when value changes\n   */\n  @Event() bhChange!: EventEmitter<MonthYear | null>;\n\n  /**\n   * Event emitted when a month/year is selected\n   */\n  @Event() bhMonthYearSelect!: EventEmitter<MonthYear>;\n\n  /**\n   * Event emitted when cancel is clicked\n   */\n  @Event() bhCancel!: EventEmitter<void>;\n\n  /**\n   * Event emitted when apply is clicked\n   */\n  @Event() bhApply!: EventEmitter<void>;\n\n  /**\n   * Event emitted when today button is clicked\n   */\n  @Event() bhToday!: EventEmitter<void>;\n\n  @Watch('visible')\n  handleVisibleChange(newValue: boolean) {\n    if (newValue) {\n      this.shouldRender = true;\n      this.isClosing = false;\n    } else {\n      this.isClosing = true;\n      setTimeout(() => {\n        this.shouldRender = false;\n        this.isClosing = false;\n      }, 150);\n    }\n  }\n\n  @Watch('value')\n  handleValueChange(newValue: MonthYear | undefined) {\n    if (newValue) {\n      this.selectedMonth = newValue.month;\n      this.selectedYear = newValue.year;\n    }\n  }\n\n  componentWillLoad() {\n    this.shouldRender = this.visible;\n\n    if (this.value) {\n      this.selectedMonth = this.value.month;\n      this.selectedYear = this.value.year;\n    } else {\n      // Initialize with current date\n      const now = new Date();\n      const currentMonth = now.getMonth();\n      const currentYear = now.getFullYear();\n\n      if (currentYear >= this.minYear && currentYear <= this.maxYear) {\n        this.selectedMonth = currentMonth;\n        this.selectedYear = currentYear;\n      } else if (currentYear < this.minYear) {\n        this.selectedYear = this.minYear;\n        this.selectedMonth = currentMonth;\n      } else {\n        this.selectedYear = this.maxYear;\n        this.selectedMonth = currentMonth;\n      }\n    }\n  }\n\n  private handleMonthYearSelect = (event: CustomEvent<MonthYear>) => {\n    const selection = event.detail;\n    this.selectedMonth = selection.month;\n    this.selectedYear = selection.year;\n    this.bhChange.emit(selection);\n    this.bhMonthYearSelect.emit(selection);\n  };\n\n  private handleCancel = () => {\n    this.bhCancel.emit();\n  };\n\n  private handleApply = () => {\n    this.bhApply.emit();\n  };\n\n  private handleToday = () => {\n    this.bhToday.emit();\n  };\n\n  render() {\n    if (!this.shouldRender) {\n      return null;\n    }\n\n    const menuClasses = {\n      'picker-menu': true,\n      'animate-dropdown-exit': this.isClosing,\n      [this.animationClass]: !this.isClosing,\n      'no-footer': !this.showFooter,\n    };\n\n    return (\n      <Host>\n        <div class={menuClasses}>\n          {/* Main Content Area - render slot if provided, otherwise MonthPickerContent */}\n          <slot>\n            <bh-month-picker-content\n              minYear={this.minYear}\n              maxYear={this.maxYear}\n              disabled={this.disabled}\n              disabledMonths={this.disabledMonths}\n              scrollable={true}\n              selectedMonth={this.selectedMonth ?? undefined}\n              selectedYear={this.selectedYear ?? undefined}\n              onBhChange={this.handleMonthYearSelect}\n            ></bh-month-picker-content>\n          </slot>\n\n          {/* Footer Actions - conditionally rendered */}\n          {this.showFooter && (\n            <div class=\"picker-menu-footer\">\n              <div class={`picker-menu-actions ${this.showTodayButton ? 'has-today-button' : ''}`}>\n                {/* Today button on the left */}\n                {this.showTodayButton && (\n                  <bh-button\n                    hierarchy=\"secondary\"\n                    size=\"sm\"\n                    icon=\"only\"\n                    iconName=\"today\"\n                    onBhClick={this.handleToday}\n                  ></bh-button>\n                )}\n\n                {/* Cancel and Apply buttons always on the right */}\n                <div class=\"picker-menu-main-actions\">\n                  <bh-button\n                    hierarchy=\"secondary\"\n                    size=\"sm\"\n                    label=\"Cancel\"\n                    onBhClick={this.handleCancel}\n                  ></bh-button>\n                  <bh-button\n                    hierarchy=\"primary\"\n                    size=\"sm\"\n                    label=\"Apply\"\n                    disabled={this.disableApply}\n                    onBhClick={this.handleApply}\n                  ></bh-button>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </Host>\n    );\n  }\n\n}\n"]}