{"version":3,"file":"bh-popover.js","sourceRoot":"","sources":["../../../src/components/bh-popover/bh-popover.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Prop, State, Event, EventEmitter, h, Host } from '@stencil/core';\n\nexport interface PopoverItem {\n  id: string;\n  label: string;\n  type?: 'portfolio' | 'region' | 'property' | 'header';\n  selected?: boolean;\n}\n\n@Component({\n  tag: 'bh-popover',\n  styleUrl: 'bh-popover.css',\n  shadow: true,\n})\nexport class BhPopover {\n  /**\n   * Title displayed in the header\n   */\n  @Prop() popoverTitle: string = 'Brand Name';\n\n  /**\n   * Text for the portfolio link\n   */\n  @Prop() viewPortfolioText: string = 'view portfolio';\n\n  /**\n   * Placeholder text for search input\n   */\n  @Prop() searchPlaceholder: string = 'Search by name or region';\n\n  /**\n   * Width of the popover\n   */\n  @Prop() width: string = '240px';\n\n  /**\n   * Whether to show search input\n   */\n  @Prop() showSearch: boolean = true;\n\n  /**\n   * Whether to show avatar section\n   */\n  @Prop() showAvatar: boolean = true;\n\n  /**\n   * Avatar image source URL\n   */\n  @Prop() avatarSrc?: string;\n\n  /**\n   * Menu items array (JSON string or array)\n   */\n  @Prop() items: PopoverItem[] | string = [];\n\n  @State() searchTerm: string = '';\n\n  /**\n   * Event emitted when a menu item is selected\n   */\n  @Event() bhItemSelect!: EventEmitter<PopoverItem>;\n\n  /**\n   * Event emitted when portfolio link is clicked\n   */\n  @Event() bhPortfolioClick!: EventEmitter<void>;\n\n  /**\n   * Event emitted when search input changes\n   */\n  @Event() bhSearchChange!: EventEmitter<string>;\n\n  private get parsedItems(): PopoverItem[] {\n    if (typeof this.items === 'string') {\n      try {\n        return JSON.parse(this.items);\n      } catch {\n        return [];\n      }\n    }\n    return this.items || [];\n  }\n\n  private handleItemClick = (item: PopoverItem) => {\n    if (item.type !== 'header') {\n      this.bhItemSelect.emit(item);\n    }\n  };\n\n  private handlePortfolioClick = () => {\n    this.bhPortfolioClick.emit();\n  };\n\n  private handleSearchInput = (event: Event) => {\n    const target = event.target as HTMLInputElement;\n    this.searchTerm = target.value;\n    this.bhSearchChange.emit(this.searchTerm);\n  };\n\n  private getItemClasses(item: PopoverItem): Record<string, boolean> {\n    return {\n      'menu-item': true,\n      'selected': !!item.selected,\n      'menu-item-portfolio': item.type === 'portfolio',\n      'menu-item-region': item.type === 'region',\n      'menu-item-property': item.type === 'property',\n    };\n  }\n\n  render() {\n    const items = this.parsedItems;\n\n    return (\n      <Host>\n        <div class=\"popover\" style={{ width: this.width }}>\n          <div class=\"popover-content\">\n            <div class=\"popover-menu\">\n              {/* Header with Brand/Avatar */}\n              {this.showAvatar && (\n                <div class=\"popover-header\">\n                  <div class=\"avatar-group\">\n                    <div class=\"avatar\">\n                      {this.avatarSrc ? (\n                        <img src={this.avatarSrc} alt={this.popoverTitle} class=\"avatar-image\" />\n                      ) : (\n                        <slot name=\"avatar\" />\n                      )}\n                    </div>\n                    <div class=\"brand-info\">\n                      <div class=\"brand-name\">{this.popoverTitle}</div>\n                      {this.viewPortfolioText && (\n                        <button\n                          class=\"portfolio-link\"\n                          onClick={this.handlePortfolioClick}\n                          type=\"button\"\n                        >\n                          {this.viewPortfolioText}\n                        </button>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Search Input */}\n              {this.showSearch && (\n                <div class=\"search-container\">\n                  <div class=\"search-input\">\n                    <div class=\"search-content\">\n                      <span class=\"material-symbols-outlined search-icon\">search</span>\n                      <input\n                        type=\"text\"\n                        placeholder={this.searchPlaceholder}\n                        value={this.searchTerm}\n                        onInput={this.handleSearchInput}\n                        class=\"search-field\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Menu Items */}\n              <div class=\"menu-items\">\n                {items.map((item) => (\n                  <div key={item.id}>\n                    {/* Header Item */}\n                    {item.type === 'header' && (\n                      <div class=\"menu-header\">{item.label}</div>\n                    )}\n\n                    {/* Regular Item */}\n                    {item.type !== 'header' && (\n                      <div class=\"menu-item-container\">\n                        <button\n                          class={this.getItemClasses(item)}\n                          onClick={() => this.handleItemClick(item)}\n                          type=\"button\"\n                        >\n                          {item.label}\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n"]}