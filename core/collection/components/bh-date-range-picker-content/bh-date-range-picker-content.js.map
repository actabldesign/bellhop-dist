{"version":3,"file":"bh-date-range-picker-content.js","sourceRoot":"","sources":["../../../src/components/bh-date-range-picker-content/bh-date-range-picker-content.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Prop, State, Event, EventEmitter, Watch, h, Host } from '@stencil/core';\nimport { SelectedDate, DisabledDate } from '../bh-date-picker-content/bh-date-picker-content';\n\nexport interface SelectedDateRange {\n  startDate: SelectedDate | null;\n  endDate: SelectedDate | null;\n}\n\n@Component({\n  tag: 'bh-date-range-picker-content',\n  styleUrl: 'bh-date-range-picker-content.css',\n  shadow: true,\n})\nexport class BhDateRangePickerContent {\n  /**\n   * Minimum year in the picker\n   */\n  @Prop() minYear: number = 1998;\n\n  /**\n   * Maximum year in the picker\n   */\n  @Prop() maxYear: number = 2060;\n\n  /**\n   * Whether the picker is disabled\n   */\n  @Prop() disabled: boolean = false;\n\n  /**\n   * Array of disabled dates\n   */\n  @Prop() disabledDates: DisabledDate[] = [];\n\n  /**\n   * Whether to show days from other months\n   */\n  @Prop() showOtherMonthDays: boolean = true;\n\n  /**\n   * Currently selected value\n   */\n  @Prop() value?: SelectedDateRange;\n\n  @State() selectedRange: SelectedDateRange | null = null;\n  @State() leftMonth: number = new Date().getMonth();\n  @State() leftYear: number = new Date().getFullYear();\n  @State() rightMonth: number = (new Date().getMonth() + 1) % 12;\n  @State() rightYear: number = new Date().getMonth() === 11 ? new Date().getFullYear() + 1 : new Date().getFullYear();\n\n  /**\n   * Event emitted when value changes\n   */\n  @Event({ bubbles: true, composed: true }) bhChange!: EventEmitter<SelectedDateRange | null>;\n\n  /**\n   * Event emitted when a date range is selected\n   */\n  @Event({ bubbles: true, composed: true }) bhDateRangeSelect!: EventEmitter<SelectedDateRange | null>;\n\n  @Watch('value')\n  handleValueChange(newValue: SelectedDateRange | undefined) {\n    if (newValue !== undefined) {\n      this.selectedRange = { ...newValue };\n    } else {\n      this.selectedRange = null;\n    }\n  }\n\n  componentWillLoad() {\n    const today = new Date();\n    const currentMonth = today.getMonth();\n    const currentYear = today.getFullYear();\n\n    this.leftMonth = currentMonth;\n    this.leftYear = currentYear;\n\n    const nextMonthYear = this.getNextMonth(currentMonth, currentYear);\n    this.rightMonth = nextMonthYear.month;\n    this.rightYear = nextMonthYear.year;\n\n    if (this.value) {\n      this.selectedRange = this.value;\n    }\n  }\n\n  private getNextMonth(month: number, year: number): { month: number; year: number } {\n    const nextMonth = month + 1;\n    if (nextMonth > 11) {\n      return { month: 0, year: year + 1 };\n    }\n    return { month: nextMonth, year };\n  }\n\n  private getPreviousMonth(month: number, year: number): { month: number; year: number } {\n    const prevMonth = month - 1;\n    if (prevMonth < 0) {\n      return { month: 11, year: year - 1 };\n    }\n    return { month: prevMonth, year };\n  }\n\n  private handleLeftDateSelect = (event: CustomEvent<SelectedDate | null>) => {\n    this.handleDateSelect(event.detail);\n  };\n\n  private handleRightDateSelect = (event: CustomEvent<SelectedDate | null>) => {\n    this.handleDateSelect(event.detail);\n  };\n\n  private handleDateSelect(date: SelectedDate | null) {\n    if (!date) return;\n\n    let newRange: SelectedDateRange;\n\n    if (!this.selectedRange?.startDate || (this.selectedRange.startDate && this.selectedRange.endDate)) {\n      // Start new range\n      newRange = { startDate: date, endDate: null };\n    } else if (this.selectedRange.startDate && !this.selectedRange.endDate) {\n      // Complete the range\n      const startDate = this.selectedRange.startDate;\n      const isAfterStart = date.year > startDate.year ||\n        (date.year === startDate.year && date.month > startDate.month) ||\n        (date.year === startDate.year && date.month === startDate.month && date.day > startDate.day);\n\n      if (isAfterStart) {\n        newRange = { startDate, endDate: date };\n      } else {\n        newRange = { startDate: date, endDate: startDate };\n      }\n    } else {\n      newRange = { startDate: date, endDate: null };\n    }\n\n    this.selectedRange = newRange;\n    this.bhChange.emit(newRange);\n    this.bhDateRangeSelect.emit(newRange);\n  }\n\n  private handleLeftMonthYearChange = (event: CustomEvent<{ month: number; year: number }>) => {\n    const { month, year } = event.detail;\n    this.leftMonth = month;\n    this.leftYear = year;\n\n    // Ensure right calendar is always at least one month ahead\n    if (year > this.rightYear || (year === this.rightYear && month >= this.rightMonth)) {\n      const nextMonthYear = this.getNextMonth(month, year);\n      this.rightMonth = nextMonthYear.month;\n      this.rightYear = nextMonthYear.year;\n    }\n  };\n\n  private handleRightMonthYearChange = (event: CustomEvent<{ month: number; year: number }>) => {\n    const { month, year } = event.detail;\n    this.rightMonth = month;\n    this.rightYear = year;\n\n    // Ensure left calendar is always at least one month behind\n    if (year < this.leftYear || (year === this.leftYear && month <= this.leftMonth)) {\n      const prevMonthYear = this.getPreviousMonth(month, year);\n      this.leftMonth = prevMonthYear.month;\n      this.leftYear = prevMonthYear.year;\n    }\n  };\n\n  render() {\n    return (\n      <Host>\n        <div class=\"date-range-picker-content\">\n          <div class=\"date-pickers\">\n            <div class=\"left-picker\">\n              <bh-date-picker-content\n                minYear={this.minYear}\n                maxYear={this.maxYear}\n                disabled={this.disabled}\n                disabledDates={this.disabledDates}\n                showOtherMonthDays={this.showOtherMonthDays}\n                displayMonth={this.leftMonth}\n                displayYear={this.leftYear}\n                rangeStart={this.selectedRange?.startDate ?? undefined}\n                rangeEnd={this.selectedRange?.endDate ?? undefined}\n                onBhChange={this.handleLeftDateSelect}\n                onBhMonthYearChange={this.handleLeftMonthYearChange}\n              ></bh-date-picker-content>\n            </div>\n            <div class=\"right-picker\">\n              <bh-date-picker-content\n                minYear={this.minYear}\n                maxYear={this.maxYear}\n                disabled={this.disabled}\n                disabledDates={this.disabledDates}\n                showOtherMonthDays={this.showOtherMonthDays}\n                displayMonth={this.rightMonth}\n                displayYear={this.rightYear}\n                rangeStart={this.selectedRange?.startDate ?? undefined}\n                rangeEnd={this.selectedRange?.endDate ?? undefined}\n                onBhChange={this.handleRightDateSelect}\n                onBhMonthYearChange={this.handleRightMonthYearChange}\n              ></bh-date-picker-content>\n            </div>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n"]}