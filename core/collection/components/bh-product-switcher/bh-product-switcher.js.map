{"version":3,"file":"bh-product-switcher.js","sourceRoot":"","sources":["../../../src/components/bh-product-switcher/bh-product-switcher.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,KAAK,EAAgB,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;AAoB7F,MAAM,OAAO,iBAAiB;IAC5B;;OAEG;IACK,MAAM,GAAY,KAAK,CAAC;IAEhC;;OAEG;IACK,cAAc,GAAmB,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC;IAE7D;;OAEG;IACK,QAAQ,GAAgB;QAC9B;YACE,EAAE,EAAE,OAAO;YACX,IAAI,EAAE,OAAO;YACb,WAAW,EAAE,+BAA+B;YAC5C,IAAI,EAAE,uBAAuB;SAC9B;QACD;YACE,EAAE,EAAE,qBAAqB;YACzB,IAAI,EAAE,qBAAqB;YAC3B,WAAW,EAAE,gBAAgB;YAC7B,IAAI,EAAE,uBAAuB;SAC9B;QACD;YACE,EAAE,EAAE,cAAc;YAClB,IAAI,EAAE,aAAa;YACnB,WAAW,EAAE,iBAAiB;YAC9B,IAAI,EAAE,uBAAuB;SAC9B;QACD;YACE,EAAE,EAAE,cAAc;YAClB,IAAI,EAAE,cAAc;YACpB,WAAW,EAAE,0BAA0B;YACvC,IAAI,EAAE,uBAAuB;SAC9B;KACF,CAAC;IAEF;;OAEG;IACM,OAAO,CAAsB;IAEtC;;OAEG;IACM,eAAe,CAA2B;IAE1C,SAAS,GAAY,KAAK,CAAC;IAE5B,YAAY,CAAkB;IAGtC,mBAAmB,CAAC,KAAiB;QACnC,MAAM,MAAM,GAAG,KAAK,CAAC,MAAqB,CAAC;QAC3C,IACE,IAAI,CAAC,MAAM;YACX,IAAI,CAAC,YAAY;YACjB,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;YACnC,CAAC,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,EAC/B,CAAC;YACD,IAAI,CAAC,WAAW,EAAE,CAAC;QACrB,CAAC;IACH,CAAC;IAEO,WAAW,GAAG,GAAG,EAAE;QACzB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;YACpB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACzB,CAAC,EAAE,GAAG,CAAC,CAAC;IACV,CAAC,CAAC;IAEM,kBAAkB,GAAG,CAAC,OAAkB,EAAE,EAAE;QAClD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACnC,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC,CAAC;IAEF,MAAM;QACJ,IAAI,CAAC,IAAI,CAAC,MAAM;YAAE,OAAO,IAAI,CAAC;QAE9B,MAAM,gBAAgB,GAAG;YACvB,4BAA4B,EAAE,IAAI;YAClC,SAAS,EAAE,IAAI,CAAC,SAAS;SAC1B,CAAC;QAEF,OAAO,CACL,EAAC,IAAI;YAEH,WAAK,KAAK,EAAC,2BAA2B,EAAC,OAAO,EAAE,IAAI,CAAC,WAAW,GAAQ;YAGxE,WACE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,IAAI,CAAC,YAAY,GAAG,EAAE,EACnC,KAAK,EAAE,gBAAgB,EACvB,KAAK,EAAE;oBACL,GAAG,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,IAAI;oBACnC,IAAI,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,IAAI;iBACtC;gBAED,WAAK,KAAK,EAAC,0BAA0B,IAClC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE;oBAC7B,MAAM,WAAW,GAAG;wBAClB,cAAc,EAAE,IAAI;wBACpB,SAAS,EAAE,OAAO,CAAC,OAAO,IAAI,KAAK;qBACpC,CAAC;oBAEF,OAAO,CACL,WACE,GAAG,EAAE,OAAO,CAAC,EAAE,EACf,KAAK,EAAE,WAAW,EAClB,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC;wBAE/C,WAAK,KAAK,EAAC,wBAAwB;4BACjC,WACE,GAAG,EAAE,OAAO,CAAC,IAAI,EACjB,GAAG,EAAE,GAAG,OAAO,CAAC,IAAI,OAAO,EAC3B,KAAK,EAAC,cAAc,GACpB,CACE;wBAEN,WAAK,KAAK,EAAC,cAAc;4BACvB,WAAK,KAAK,EAAC,cAAc,IAAE,OAAO,CAAC,IAAI,CAAO;4BAC9C,WAAK,KAAK,EAAC,qBAAqB,IAAE,OAAO,CAAC,WAAW,CAAO,CACxD,CACF,CACP,CAAC;gBACJ,CAAC,CAAC,CACE,CACF,CACD,CACR,CAAC;IACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { Component, Prop, Event, EventEmitter, State, h, Host, Listen } from '@stencil/core';\n\nexport interface BhProduct {\n  id: string;\n  name: string;\n  description: string;\n  logo: string;\n  current?: boolean;\n}\n\nexport interface AnchorPosition {\n  top: number;\n  left: number;\n}\n\n@Component({\n  tag: 'bh-product-switcher',\n  styleUrl: 'bh-product-switcher.css',\n  shadow: true,\n})\nexport class BhProductSwitcher {\n  /**\n   * Whether the product switcher is open\n   */\n  @Prop() isOpen: boolean = false;\n\n  /**\n   * Position to anchor the popover\n   */\n  @Prop() anchorPosition: AnchorPosition = { top: 0, left: 0 };\n\n  /**\n   * Array of products to display\n   */\n  @Prop() products: BhProduct[] = [\n    {\n      id: 'alice',\n      name: 'Alice',\n      description: 'Housekeeping & Guest Services',\n      logo: './assets/logos/AL.svg',\n    },\n    {\n      id: 'hotel-effectiveness',\n      name: 'Hotel Effectiveness',\n      description: 'Labor planning',\n      logo: './assets/logos/HE.svg',\n    },\n    {\n      id: 'profit-sword',\n      name: 'ProfitSword',\n      description: 'B.I and Finance',\n      logo: './assets/logos/PS.svg',\n    },\n    {\n      id: 'transcendent',\n      name: 'Transcendent',\n      description: 'Asset Management & CapEx',\n      logo: './assets/logos/TR.svg',\n    },\n  ];\n\n  /**\n   * Event emitted when the switcher should close\n   */\n  @Event() bhClose!: EventEmitter<void>;\n\n  /**\n   * Event emitted when a product is selected\n   */\n  @Event() bhProductSelect!: EventEmitter<BhProduct>;\n\n  @State() isClosing: boolean = false;\n\n  private containerRef?: HTMLDivElement;\n\n  @Listen('click', { target: 'document' })\n  handleDocumentClick(event: MouseEvent) {\n    const target = event.target as HTMLElement;\n    if (\n      this.isOpen &&\n      this.containerRef &&\n      !this.containerRef.contains(target) &&\n      !target.closest('.logo-active')\n    ) {\n      this.handleClose();\n    }\n  }\n\n  private handleClose = () => {\n    this.isClosing = true;\n    setTimeout(() => {\n      this.bhClose.emit();\n      this.isClosing = false;\n    }, 200);\n  };\n\n  private handleProductClick = (product: BhProduct) => {\n    this.bhProductSelect.emit(product);\n    this.handleClose();\n  };\n\n  render() {\n    if (!this.isOpen) return null;\n\n    const containerClasses = {\n      'product-switcher-container': true,\n      'closing': this.isClosing,\n    };\n\n    return (\n      <Host>\n        {/* Backdrop */}\n        <div class=\"product-switcher-backdrop\" onClick={this.handleClose}></div>\n\n        {/* Product Switcher Container */}\n        <div\n          ref={(el) => this.containerRef = el}\n          class={containerClasses}\n          style={{\n            top: `${this.anchorPosition.top}px`,\n            left: `${this.anchorPosition.left}px`,\n          }}\n        >\n          <div class=\"product-switcher-popover\">\n            {this.products.map((product) => {\n              const itemClasses = {\n                'product-item': true,\n                'current': product.current || false,\n              };\n\n              return (\n                <div\n                  key={product.id}\n                  class={itemClasses}\n                  onClick={() => this.handleProductClick(product)}\n                >\n                  <div class=\"product-icon-container\">\n                    <img\n                      src={product.logo}\n                      alt={`${product.name} logo`}\n                      class=\"product-icon\"\n                    />\n                  </div>\n\n                  <div class=\"product-info\">\n                    <div class=\"product-name\">{product.name}</div>\n                    <div class=\"product-description\">{product.description}</div>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n"]}