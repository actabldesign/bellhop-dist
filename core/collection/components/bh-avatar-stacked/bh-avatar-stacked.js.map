{"version":3,"file":"bh-avatar-stacked.js","sourceRoot":"","sources":["../../../src/components/bh-avatar-stacked/bh-avatar-stacked.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Prop, State, h } from '@stencil/core';\n\nexport type AvatarStackedSize = 'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl';\n\nexport interface AvatarData {\n  type: 'image' | 'text' | 'icon';\n  imageSrc?: string;\n  text?: string;\n  tooltipText?: string;\n}\n\n@Component({\n  tag: 'bh-avatar-stacked',\n  styleUrl: 'bh-avatar-stacked.css',\n  shadow: true,\n})\nexport class BhAvatarStacked {\n  /**\n   * The size of the avatars in the stack\n   */\n  @Prop() size: AvatarStackedSize = 'md';\n\n  /**\n   * JSON array of avatar data\n   */\n  @Prop() avatars: string = '[]';\n\n  /**\n   * Maximum number of visible avatars before showing count\n   */\n  @Prop() maxVisible: number = 10;\n\n  /**\n   * Whether to show the add button\n   */\n  @Prop() showAddButton: boolean = true;\n\n  /**\n   * Tooltip text for the add button\n   */\n  @Prop() addTooltipText: string = 'Add member';\n\n  /**\n   * Track hovered avatar index for tooltips\n   */\n  @State() hoveredIndex: number = -1;\n\n  /**\n   * Track add button hover state\n   */\n  @State() addButtonHovered: boolean = false;\n\n  private getParsedAvatars(): AvatarData[] {\n    try {\n      return JSON.parse(this.avatars) as AvatarData[];\n    } catch {\n      return [];\n    }\n  }\n\n  private getAvatarSize(): number {\n    const sizeMap: Record<AvatarStackedSize, number> = {\n      xs: 24,\n      sm: 32,\n      md: 40,\n      lg: 48,\n      xl: 56,\n      '2xl': 64,\n    };\n    return sizeMap[this.size] || 40;\n  }\n\n  private getOffset(): number {\n    const avatarSize = this.getAvatarSize();\n    return Math.floor(avatarSize * 0.3);\n  }\n\n  private mapAvatarType(\n    type: 'image' | 'text' | 'icon'\n  ): 'image' | 'text' | 'placeholder' {\n    if (type === 'icon') {\n      return 'placeholder';\n    }\n    return type;\n  }\n\n  render() {\n    const parsedAvatars = this.getParsedAvatars();\n    const visibleAvatars = parsedAvatars.slice(0, this.maxVisible - 1);\n    const remainingCount = parsedAvatars.length - (this.maxVisible - 1);\n    const showCountAvatar = remainingCount > 0;\n    const offset = this.getOffset();\n\n    return (\n      <div\n        class={`avatar-stacked avatar-stacked-${this.size}`}\n        part=\"container\"\n      >\n        {visibleAvatars.map((avatar, index) => (\n          <div\n            class=\"avatar-item\"\n            style={{ marginLeft: index > 0 ? `-${offset}px` : '0' }}\n            onMouseEnter={() => {\n              this.hoveredIndex = index;\n            }}\n            onMouseLeave={() => {\n              this.hoveredIndex = -1;\n            }}\n          >\n            <bh-avatar\n              type={this.mapAvatarType(avatar.type)}\n              size={this.size}\n              imageSrc={avatar.imageSrc}\n              text={avatar.text || '?'}\n              alt={avatar.text || 'Avatar'}\n            />\n            {avatar.tooltipText && (\n              <bh-tooltip\n                text={avatar.tooltipText}\n                visible={this.hoveredIndex === index}\n                position=\"bottom\"\n              />\n            )}\n          </div>\n        ))}\n\n        {showCountAvatar && (\n          <div\n            class=\"avatar-item\"\n            style={{\n              marginLeft: visibleAvatars.length > 0 ? `-${offset}px` : '0',\n            }}\n          >\n            <bh-avatar\n              type=\"text\"\n              size={this.size}\n              text={`+${remainingCount}`}\n              alt={`${remainingCount} more`}\n            />\n          </div>\n        )}\n\n        {this.showAddButton && (\n          <div\n            class=\"avatar-item\"\n            style={{\n              marginLeft:\n                visibleAvatars.length > 0 || showCountAvatar\n                  ? `-${offset}px`\n                  : '0',\n            }}\n            onMouseEnter={() => {\n              this.addButtonHovered = true;\n            }}\n            onMouseLeave={() => {\n              this.addButtonHovered = false;\n            }}\n          >\n            <bh-avatar-add\n              size={this.size}\n              showTooltip={true}\n              tooltipText={this.addTooltipText}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n"]}