{"version":3,"file":"bh-dropdown-menu.js","sourceRoot":"","sources":["../../../src/components/bh-dropdown-menu/bh-dropdown-menu.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Prop, State, Event, EventEmitter, Watch, h } from '@stencil/core';\n\nexport interface DropdownMenuItem {\n  id: string;\n  label?: string;\n  icon?: string;\n  shortcut?: string;\n  disabled?: boolean;\n  divider?: boolean;\n}\n\nexport interface DropdownMenuHeader {\n  title?: string;\n  avatarGroup?: boolean;\n  avatarSrc?: string;\n  name?: string;\n  email?: string;\n}\n\n@Component({\n  tag: 'bh-dropdown-menu',\n  styleUrl: 'bh-dropdown-menu.css',\n  shadow: true,\n})\nexport class BhDropdownMenu {\n  /**\n   * Header configuration (JSON string or object)\n   */\n  @Prop() header?: DropdownMenuHeader | string;\n\n  /**\n   * Menu items array (JSON string or array)\n   */\n  @Prop() menuItems: DropdownMenuItem[] | string = [];\n\n  /**\n   * Whether the menu is visible\n   */\n  @Prop() visible: boolean = true;\n\n  /**\n   * Whether to show icons in menu items\n   */\n  @Prop() showIcons: boolean = true;\n\n  /**\n   * Whether the menu should be scrollable\n   */\n  @Prop() scrollable: boolean = false;\n\n  @State() isClosing: boolean = false;\n  @State() shouldRender: boolean = true;\n\n  /**\n   * Event emitted when a menu item is clicked\n   */\n  @Event() bhItemClick!: EventEmitter<DropdownMenuItem>;\n\n  private get parsedHeader(): DropdownMenuHeader | undefined {\n    if (!this.header) return undefined;\n    if (typeof this.header === 'string') {\n      try {\n        return JSON.parse(this.header);\n      } catch {\n        return undefined;\n      }\n    }\n    return this.header;\n  }\n\n  private get parsedMenuItems(): DropdownMenuItem[] {\n    if (typeof this.menuItems === 'string') {\n      try {\n        return JSON.parse(this.menuItems);\n      } catch {\n        return [];\n      }\n    }\n    return this.menuItems || [];\n  }\n\n  @Watch('visible')\n  watchVisible(newValue: boolean) {\n    if (newValue) {\n      this.shouldRender = true;\n      this.isClosing = false;\n    } else {\n      this.isClosing = true;\n      setTimeout(() => {\n        this.shouldRender = false;\n        this.isClosing = false;\n      }, 150);\n    }\n  }\n\n  componentWillLoad() {\n    this.shouldRender = this.visible;\n  }\n\n  private handleItemClick(item: DropdownMenuItem) {\n    if (!item.disabled && !item.divider) {\n      this.bhItemClick.emit(item);\n    }\n  }\n\n  private getMenuItemClasses(item: DropdownMenuItem) {\n    return {\n      'dropdown-item': true,\n      'dropdown-item-disabled': !!item.disabled,\n    };\n  }\n\n  render() {\n    if (!this.visible) {\n      return null;\n    }\n\n    const header = this.parsedHeader;\n    const items = this.parsedMenuItems;\n\n    const dropdownClasses = {\n      'dropdown-menu': true,\n      'dropdown-menu-scrollable': this.scrollable,\n      'animate-dropdown-enter': true,\n      'animate-dropdown-exit': false,\n    };\n\n    const headerClasses = {\n      'dropdown-header': true,\n      'dropdown-header-avatar': !!header?.avatarGroup,\n    };\n\n    return (\n      <div class={dropdownClasses}>\n        {/* Header Section */}\n        {header && (\n          <div class={headerClasses}>\n            {/* Avatar Group Header */}\n            {header.avatarGroup && (\n              <div class=\"avatar-group\">\n                <bh-avatar\n                  size=\"md\"\n                  type=\"image\"\n                  status=\"online\"\n                  imageSrc={header.avatarSrc || ''}\n                  alt={header.name || 'Avatar'}\n                />\n                <div class=\"avatar-text\">\n                  <div class=\"avatar-name\">{header.name}</div>\n                  <div class=\"avatar-email\">{header.email}</div>\n                </div>\n              </div>\n            )}\n            {/* Simple Text Header */}\n            {!header.avatarGroup && header.title && (\n              <div class=\"header-title\">{header.title}</div>\n            )}\n          </div>\n        )}\n\n        {/* Menu Items Section */}\n        <div class=\"menu-items\">\n          {items.map((item) => (\n            <div key={item.id}>\n              {/* Divider */}\n              {item.divider && <div class=\"menu-divider\" />}\n\n              {/* Menu Item */}\n              {!item.divider && (\n                <div\n                  class={this.getMenuItemClasses(item)}\n                  onClick={() => this.handleItemClick(item)}\n                >\n                  <div class=\"item-content\">\n                    <div class=\"item-main\">\n                      {item.icon && this.showIcons && (\n                        <span class=\"material-symbols-outlined item-icon\">\n                          {item.icon}\n                        </span>\n                      )}\n                      <span class=\"item-text\" title={item.label}>\n                        {item.label}\n                      </span>\n                    </div>\n                    {item.shortcut && (\n                      <span class=\"item-shortcut\">{item.shortcut}</span>\n                    )}\n                  </div>\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n"]}