{"version":3,"file":"bh-accordion.js","sourceRoot":"","sources":["../../../src/components/bh-accordion/bh-accordion.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n  Component,\n  Prop,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Listen,\n  State,\n  Watch,\n} from '@stencil/core';\n\nexport type AccordionMode = 'single' | 'multiple';\n\n/**\n * @slot - Accordion items (bh-accordion-item components)\n */\n@Component({\n  tag: 'bh-accordion',\n  styleUrl: 'bh-accordion.css',\n  shadow: true,\n})\nexport class BhAccordion {\n  /**\n   * The mode of the accordion:\n   * - 'single': Only one item can be expanded at a time\n   * - 'multiple': Multiple items can be expanded simultaneously\n   */\n  @Prop() mode: AccordionMode = 'single';\n\n  /**\n   * The value(s) of the currently expanded item(s).\n   * For single mode: a string value\n   * For multiple mode: an array of string values (comma-separated string)\n   */\n  @Prop({ mutable: true }) value: string = '';\n\n  /**\n   * Whether to collapse other items when one is expanded (only applies in single mode)\n   */\n  @Prop() collapsible: boolean = true;\n\n  /**\n   * Internal state to track expanded items\n   */\n  @State() expandedItems: Set<string> = new Set();\n\n  /**\n   * Emitted when the expanded state changes\n   */\n  @Event({ bubbles: true, composed: true })\n  bhAccordionChange!: EventEmitter<string | string[]>;\n\n  componentWillLoad(): void {\n    this.parseValue();\n  }\n\n  @Watch('value')\n  handleValueChange(): void {\n    this.parseValue();\n    this.updateChildItems();\n  }\n\n  private parseValue(): void {\n    if (!this.value) {\n      this.expandedItems = new Set();\n      return;\n    }\n\n    if (this.mode === 'multiple') {\n      this.expandedItems = new Set(this.value.split(',').filter(Boolean));\n    } else {\n      this.expandedItems = new Set([this.value]);\n    }\n  }\n\n  private updateChildItems(): void {\n    const slot = this.getSlot();\n    if (!slot) return;\n\n    const items = slot.assignedElements() as HTMLBhAccordionItemElement[];\n    items.forEach((item) => {\n      if (item.tagName.toLowerCase() === 'bh-accordion-item') {\n        item.expanded = this.expandedItems.has(item.value);\n      }\n    });\n  }\n\n  private getSlot(): HTMLSlotElement | null {\n    const host = document.querySelector('bh-accordion');\n    if (!host?.shadowRoot) return null;\n    return host.shadowRoot.querySelector('slot');\n  }\n\n  @Listen('bhAccordionToggle')\n  handleAccordionToggle(\n    event: CustomEvent<{ value: string; expanded: boolean }>\n  ): void {\n    const { value, expanded } = event.detail;\n\n    if (this.mode === 'single') {\n      if (expanded) {\n        this.expandedItems = new Set([value]);\n      } else if (this.collapsible) {\n        this.expandedItems = new Set();\n      }\n    } else {\n      if (expanded) {\n        this.expandedItems.add(value);\n      } else {\n        this.expandedItems.delete(value);\n      }\n      this.expandedItems = new Set(this.expandedItems);\n    }\n\n    this.updateValue();\n    this.updateChildItems();\n  }\n\n  private updateValue(): void {\n    const items = Array.from(this.expandedItems);\n\n    if (this.mode === 'multiple') {\n      this.value = items.join(',');\n      this.bhAccordionChange.emit(items);\n    } else {\n      this.value = items[0] || '';\n      this.bhAccordionChange.emit(this.value);\n    }\n  }\n\n  render() {\n    const hostClasses = {\n      accordion: true,\n      [`accordion-${this.mode}`]: true,\n    };\n\n    return (\n      <Host class={hostClasses}>\n        <div class=\"accordion-container\" part=\"container\" role=\"presentation\">\n          <slot />\n        </div>\n      </Host>\n    );\n  }\n}\n\ninterface HTMLBhAccordionItemElement extends HTMLElement {\n  value: string;\n  expanded: boolean;\n}\n"]}