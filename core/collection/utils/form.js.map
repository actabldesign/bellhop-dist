{"version":3,"file":"form.js","sourceRoot":"","sources":["../../src/utils/form.ts"],"names":[],"mappings":"AAAA;;;;;GAKG;AAaH;;;GAGG;AACH,MAAM,UAAU,aAAa,CAAC,SAAwB;IACpD,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,YAAY,IAAI,CAAC,SAAS,CAAC,IAAI;QAAE,OAAO;IAElE,MAAM,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;IAC9B,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,EAAE,EAAE,CAAC;QAC1D,SAAS,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;SAAM,CAAC;QACN,SAAS,CAAC,SAAS,CAAC,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;IAClD,CAAC;AACH,CAAC;AAED;;;GAGG;AACH,MAAM,UAAU,sBAAsB,CACpC,SAAuC,EACvC,IAAY,EACZ,OAAgB,EAChB,QAAgB,IAAI;IAEpB,IAAI,CAAC,SAAS,EAAE,YAAY,IAAI,CAAC,IAAI;QAAE,OAAO;IAC9C,SAAS,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;AACjD,CAAC;AAED;;;GAGG;AACH,MAAM,UAAU,cAAc,CAC5B,SAAuC,EACvC,OAAkE,EAClE,aAAsB;IAEtB,IAAI,CAAC,SAAS,EAAE,WAAW;QAAE,OAAO;IAEpC,IAAI,OAAO,EAAE,CAAC;QACZ,SAAS,CAAC,WAAW,CACnB,OAAO,CAAC,QAAQ,EAChB,aAAa,IAAI,OAAO,CAAC,iBAAiB,EAC1C,OAAO,CACR,CAAC;IACJ,CAAC;AACH,CAAC;AAED;;GAEG;AACH,MAAM,UAAU,iBAAiB,CAC/B,SAAuC,EACvC,OAAgB,EAChB,UAAkB,EAAE;IAEpB,IAAI,CAAC,SAAS,EAAE,WAAW;QAAE,OAAO;IAEpC,IAAI,OAAO,EAAE,CAAC;QACZ,SAAS,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;IAC5B,CAAC;SAAM,CAAC;QACN,SAAS,CAAC,WAAW,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE,EAAE,OAAO,CAAC,CAAC;IACxD,CAAC;AACH,CAAC;AAED;;GAEG;AACH,MAAM,UAAU,gBAAgB,CAC9B,SAAuC,EACvC,QAAiB,EACjB,OAAgB,EAChB,UAAkB,+CAA+C;IAEjE,IAAI,CAAC,SAAS,EAAE,WAAW;QAAE,OAAO;IAEpC,IAAI,QAAQ,IAAI,CAAC,OAAO,EAAE,CAAC;QACzB,SAAS,CAAC,WAAW,CAAC,EAAE,YAAY,EAAE,IAAI,EAAE,EAAE,OAAO,CAAC,CAAC;IACzD,CAAC;SAAM,CAAC;QACN,SAAS,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;IAC5B,CAAC;AACH,CAAC","sourcesContent":["/**\n * Form utilities for form-associated custom elements\n *\n * These utilities help Stencil components participate in native HTML forms\n * using the ElementInternals API (formAssociated: true).\n */\n\n/**\n * Interface for text-based form components (input, textarea)\n */\nexport interface FormComponent {\n  internals: ElementInternals;\n  name: string;\n  value: string | number | null;\n  disabled: boolean;\n  required?: boolean;\n}\n\n/**\n * Sync a text/number value to the form\n * Call this in handleInput and componentDidLoad\n */\nexport function syncFormValue(component: FormComponent): void {\n  if (!component.internals?.setFormValue || !component.name) return;\n\n  const value = component.value;\n  if (value === null || value === undefined || value === '') {\n    component.internals.setFormValue(null);\n  } else {\n    component.internals.setFormValue(String(value));\n  }\n}\n\n/**\n * Sync a checkable component's value to the form\n * For checkbox, toggle, radio - value is only submitted when checked\n */\nexport function syncCheckableFormValue(\n  internals: ElementInternals | undefined,\n  name: string,\n  checked: boolean,\n  value: string = 'on'\n): void {\n  if (!internals?.setFormValue || !name) return;\n  internals.setFormValue(checked ? value : null);\n}\n\n/**\n * Update validity state based on a native input element\n * This delegates to the browser's built-in validation\n */\nexport function updateValidity(\n  internals: ElementInternals | undefined,\n  inputEl: HTMLInputElement | HTMLTextAreaElement | null | undefined,\n  customMessage?: string\n): void {\n  if (!internals?.setValidity) return;\n\n  if (inputEl) {\n    internals.setValidity(\n      inputEl.validity,\n      customMessage || inputEl.validationMessage,\n      inputEl\n    );\n  }\n}\n\n/**\n * Set custom validity for components without native inputs\n */\nexport function setCustomValidity(\n  internals: ElementInternals | undefined,\n  isValid: boolean,\n  message: string = ''\n): void {\n  if (!internals?.setValidity) return;\n\n  if (isValid) {\n    internals.setValidity({});\n  } else {\n    internals.setValidity({ customError: true }, message);\n  }\n}\n\n/**\n * Validate required state for checkable components (checkbox, toggle)\n */\nexport function validateRequired(\n  internals: ElementInternals | undefined,\n  required: boolean,\n  checked: boolean,\n  message: string = 'Please check this box if you want to proceed.'\n): void {\n  if (!internals?.setValidity) return;\n\n  if (required && !checked) {\n    internals.setValidity({ valueMissing: true }, message);\n  } else {\n    internals.setValidity({});\n  }\n}\n"]}