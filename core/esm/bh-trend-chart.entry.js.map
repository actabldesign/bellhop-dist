{"version":3,"file":"bh-trend-chart.entry.js","sources":["src/components/bh-trend-chart/bh-trend-chart.css?tag=bh-trend-chart&encapsulation=shadow","src/components/bh-trend-chart/bh-trend-chart.tsx"],"sourcesContent":["@import '../../global/global.css';\n\n:host {\n  display: inline-block;\n}\n\n.trend-chart {\n  position: relative;\n  display: inline-block;\n  width: fit-content;\n  height: fit-content;\n}\n\n/* Chart SVG container */\n.chart-svg {\n  overflow: visible;\n}\n\n/* Smooth Airbnb-style reveal animations */\n@keyframes chartFadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(10px) scale(0.95);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n}\n\n@keyframes backgroundFill {\n  from {\n    opacity: 0;\n    transform: scaleY(0);\n  }\n  to {\n    opacity: 1;\n    transform: scaleY(1);\n  }\n}\n\n/* Animation timing */\n.trend-chart-animated {\n  animation: chartFadeIn 0.6s var(--animation-ease-smooth, ease-out) forwards;\n}\n\n.trend-chart-animated .chart-line {\n  stroke-dasharray: 1000;\n  stroke-dashoffset: 1000;\n  animation: pathDraw 1.2s var(--animation-ease-smooth, ease-out) 0.3s forwards;\n}\n\n@keyframes pathDraw {\n  to {\n    stroke-dashoffset: 0;\n  }\n}\n\n.trend-chart-animated .chart-background {\n  transform-origin: bottom;\n  animation: backgroundFill 0.8s var(--animation-ease-smooth, ease-out) 0.3s forwards;\n  opacity: 0;\n}\n\n/* Line-only variant - slower animation */\n.trend-chart-animated.trend-chart-line-only .chart-line {\n  animation: pathDrawSlow 4s var(--animation-ease-smooth, ease-out) 0.3s forwards;\n}\n\n@keyframes pathDrawSlow {\n  to {\n    stroke-dashoffset: 0;\n  }\n}\n\n/* Static styles for non-animated */\n.trend-chart:not(.trend-chart-animated) .chart-line {\n  stroke-dasharray: none;\n}\n\n.trend-chart:not(.trend-chart-animated) .chart-background {\n  opacity: 1;\n}\n\n/* Responsive behavior */\n@media (prefers-reduced-motion: reduce) {\n  .trend-chart-animated,\n  .trend-chart-animated .chart-line,\n  .trend-chart-animated .chart-background {\n    animation: none;\n    opacity: 1;\n    transform: none;\n    stroke-dasharray: none;\n  }\n}\n","import { Component, Prop, h, Host } from '@stencil/core';\n\nexport type TrendDirection = 'positive' | 'negative' | 'neutral';\nexport type TrendVariant = 'line-only' | 'fill-only' | 'line-fill';\n\n@Component({\n  tag: 'bh-trend-chart',\n  styleUrl: 'bh-trend-chart.css',\n  shadow: true,\n})\nexport class BhTrendChart {\n  /**\n   * The trend direction (affects color)\n   */\n  @Prop() trend: TrendDirection = 'positive';\n\n  /**\n   * Data points for the chart\n   */\n  @Prop() data: number[] = [20, 45, 30, 60, 35, 70, 40];\n\n  /**\n   * Whether to animate the chart\n   */\n  @Prop() animated: boolean = true;\n\n  /**\n   * Chart variant: line-only, fill-only, or line-fill\n   */\n  @Prop() variant: TrendVariant = 'line-only';\n\n  /**\n   * Width of the chart in pixels\n   */\n  @Prop() width: number = 112;\n\n  /**\n   * Height of the chart in pixels\n   */\n  @Prop() height: number = 56;\n\n  private normalizeData(): Array<{ x: number; y: number }> {\n    const maxValue = Math.max(...this.data);\n    const minValue = Math.min(...this.data);\n    const range = maxValue - minValue || 1;\n\n    return this.data.map((value, index) => ({\n      x: (index / (this.data.length - 1)) * this.width,\n      y: this.height - ((value - minValue) / range) * (this.height - 20) - 10,\n    }));\n  }\n\n  private generatePath(points: Array<{ x: number; y: number }>): string {\n    if (points.length < 2) return '';\n\n    let path = `M ${points[0].x} ${points[0].y}`;\n\n    for (let i = 1; i < points.length; i++) {\n      const prev = points[i - 1];\n      const curr = points[i];\n      const tension = 0.5;\n\n      const cp1x = prev.x + (curr.x - prev.x) * tension;\n      const cp1y = prev.y;\n      const cp2x = curr.x - (curr.x - prev.x) * tension;\n      const cp2y = curr.y;\n\n      path += ` C ${cp1x} ${cp1y}, ${cp2x} ${cp2y}, ${curr.x} ${curr.y}`;\n    }\n\n    return path;\n  }\n\n  private generateBackgroundPath(points: Array<{ x: number; y: number }>): string {\n    if (points.length < 2) return '';\n\n    let path = `M ${points[0].x} ${this.height}`;\n    path += ` L ${points[0].x} ${points[0].y}`;\n\n    for (let i = 1; i < points.length; i++) {\n      const prev = points[i - 1];\n      const curr = points[i];\n      const tension = 0.5;\n\n      const cp1x = prev.x + (curr.x - prev.x) * tension;\n      const cp1y = prev.y;\n      const cp2x = curr.x - (curr.x - prev.x) * tension;\n      const cp2y = curr.y;\n      path += ` C ${cp1x} ${cp1y}, ${cp2x} ${cp2y}, ${curr.x} ${curr.y}`;\n    }\n\n    path += ` L ${points[points.length - 1].x} ${this.height}`;\n    path += ' Z';\n\n    return path;\n  }\n\n  private getStrokeColor(): string {\n    switch (this.trend) {\n      case 'positive':\n        return 'var(--color-success-500)';\n      case 'negative':\n        return 'var(--color-error-500)';\n      case 'neutral':\n        return 'var(--color-neutral-500)';\n      default:\n        return 'var(--color-neutral-500)';\n    }\n  }\n\n  private getFillColor(): string {\n    switch (this.trend) {\n      case 'positive':\n        return 'var(--color-success-600)';\n      case 'negative':\n        return 'var(--color-error-600)';\n      case 'neutral':\n        return 'var(--color-neutral-600)';\n      default:\n        return 'var(--color-neutral-600)';\n    }\n  }\n\n  render() {\n    const points = this.normalizeData();\n    const pathData = this.generatePath(points);\n    const backgroundPath = this.variant !== 'line-only' ? this.generateBackgroundPath(points) : '';\n    const strokeColor = this.getStrokeColor();\n    const fillColor = this.getFillColor();\n    const gradientId = `gradient-${this.trend}`;\n\n    return (\n      <Host>\n        <div\n          class={{\n            'trend-chart': true,\n            [`trend-chart-${this.trend}`]: true,\n            [`trend-chart-${this.variant}`]: true,\n            'trend-chart-animated': this.animated,\n          }}\n        >\n          <svg\n            width={this.width}\n            height={this.height}\n            viewBox={`0 0 ${this.width} ${this.height}`}\n            class=\"chart-svg\"\n          >\n            <defs>\n              <linearGradient id={gradientId} x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n                <stop\n                  offset=\"0%\"\n                  stop-color={fillColor}\n                  stop-opacity={this.variant === 'fill-only' ? 0.4 : 0.2}\n                />\n                <stop\n                  offset=\"100%\"\n                  stop-color={fillColor}\n                  stop-opacity={this.variant === 'fill-only' ? 0.1 : 0.05}\n                />\n              </linearGradient>\n            </defs>\n\n            {/* Background fill (for fill-only and line-fill variants) */}\n            {backgroundPath && this.variant !== 'line-only' && (\n              <path\n                class=\"chart-background\"\n                d={backgroundPath}\n                fill={`url(#${gradientId})`}\n              />\n            )}\n\n            {/* Stroke line (for line-only and line-fill variants) */}\n            {pathData && this.variant !== 'fill-only' && (\n              <path\n                class=\"chart-line\"\n                d={pathData}\n                stroke={strokeColor}\n                stroke-width=\"2\"\n                fill=\"none\"\n              />\n            )}\n          </svg>\n        </div>\n      </Host>\n    );\n  }\n}\n"],"names":[],"mappings":"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"}