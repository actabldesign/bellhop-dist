{"version":3,"file":"bh-date-range-picker-content.entry.js","sources":["src/components/bh-date-range-picker-content/bh-date-range-picker-content.css?tag=bh-date-range-picker-content&encapsulation=shadow","src/components/bh-date-range-picker-content/bh-date-range-picker-content.tsx"],"sourcesContent":["@import '../../global/global.css';\n\n:host {\n  display: block;\n}\n\n/* Main container */\n.date-range-picker-content {\n  display: flex;\n  flex-direction: column;\n  font-family: var(--font-inter);\n  width: fit-content;\n}\n\n/* Date pickers container - side by side layout */\n.date-pickers {\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  position: relative;\n  gap: var(--spacing-sm);\n}\n\n/* Left picker */\n.left-picker {\n  display: flex;\n  flex-direction: column;\n  width: 296px;\n}\n\n/* Right picker */\n.right-picker {\n  display: flex;\n  flex-direction: column;\n  width: 296px;\n}\n\n/* Vertical divider between calendars */\n.date-pickers::after {\n  content: '';\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translateX(-50%) translateY(-50%);\n  width: 1px;\n  height: 100%;\n  background: var(--color-neutral-200);\n  pointer-events: none;\n  z-index: 1;\n}\n\n/* Responsive adjustments */\n@media (max-width: 768px) {\n  .date-range-picker-content {\n    width: 320px;\n  }\n\n  .date-pickers {\n    flex-direction: column;\n  }\n\n  .left-picker,\n  .right-picker {\n    width: 100%;\n  }\n\n  /* Hide vertical divider on mobile */\n  .date-pickers::after {\n    display: none;\n  }\n}\n","import { Component, Prop, State, Event, EventEmitter, Watch, h, Host } from '@stencil/core';\nimport { SelectedDate, DisabledDate } from '../bh-date-picker-content/bh-date-picker-content';\n\nexport interface SelectedDateRange {\n  startDate: SelectedDate | null;\n  endDate: SelectedDate | null;\n}\n\n@Component({\n  tag: 'bh-date-range-picker-content',\n  styleUrl: 'bh-date-range-picker-content.css',\n  shadow: true,\n})\nexport class BhDateRangePickerContent {\n  /**\n   * Minimum year in the picker\n   */\n  @Prop() minYear: number = 1998;\n\n  /**\n   * Maximum year in the picker\n   */\n  @Prop() maxYear: number = 2060;\n\n  /**\n   * Whether the picker is disabled\n   */\n  @Prop() disabled: boolean = false;\n\n  /**\n   * Array of disabled dates\n   */\n  @Prop() disabledDates: DisabledDate[] = [];\n\n  /**\n   * Whether to show days from other months\n   */\n  @Prop() showOtherMonthDays: boolean = true;\n\n  /**\n   * Currently selected value\n   */\n  @Prop() value?: SelectedDateRange;\n\n  @State() selectedRange: SelectedDateRange | null = null;\n  @State() leftMonth: number = new Date().getMonth();\n  @State() leftYear: number = new Date().getFullYear();\n  @State() rightMonth: number = (new Date().getMonth() + 1) % 12;\n  @State() rightYear: number = new Date().getMonth() === 11 ? new Date().getFullYear() + 1 : new Date().getFullYear();\n\n  /**\n   * Event emitted when value changes\n   */\n  @Event({ bubbles: true, composed: true }) bhChange!: EventEmitter<SelectedDateRange | null>;\n\n  /**\n   * Event emitted when a date range is selected\n   */\n  @Event({ bubbles: true, composed: true }) bhDateRangeSelect!: EventEmitter<SelectedDateRange | null>;\n\n  @Watch('value')\n  handleValueChange(newValue: SelectedDateRange | undefined) {\n    if (newValue !== undefined) {\n      this.selectedRange = { ...newValue };\n    } else {\n      this.selectedRange = null;\n    }\n  }\n\n  componentWillLoad() {\n    const today = new Date();\n    const currentMonth = today.getMonth();\n    const currentYear = today.getFullYear();\n\n    this.leftMonth = currentMonth;\n    this.leftYear = currentYear;\n\n    const nextMonthYear = this.getNextMonth(currentMonth, currentYear);\n    this.rightMonth = nextMonthYear.month;\n    this.rightYear = nextMonthYear.year;\n\n    if (this.value) {\n      this.selectedRange = this.value;\n    }\n  }\n\n  private getNextMonth(month: number, year: number): { month: number; year: number } {\n    const nextMonth = month + 1;\n    if (nextMonth > 11) {\n      return { month: 0, year: year + 1 };\n    }\n    return { month: nextMonth, year };\n  }\n\n  private getPreviousMonth(month: number, year: number): { month: number; year: number } {\n    const prevMonth = month - 1;\n    if (prevMonth < 0) {\n      return { month: 11, year: year - 1 };\n    }\n    return { month: prevMonth, year };\n  }\n\n  private handleLeftDateSelect = (event: CustomEvent<SelectedDate | null>) => {\n    this.handleDateSelect(event.detail);\n  };\n\n  private handleRightDateSelect = (event: CustomEvent<SelectedDate | null>) => {\n    this.handleDateSelect(event.detail);\n  };\n\n  private handleDateSelect(date: SelectedDate | null) {\n    if (!date) return;\n\n    let newRange: SelectedDateRange;\n\n    if (!this.selectedRange?.startDate || (this.selectedRange.startDate && this.selectedRange.endDate)) {\n      // Start new range\n      newRange = { startDate: date, endDate: null };\n    } else if (this.selectedRange.startDate && !this.selectedRange.endDate) {\n      // Complete the range\n      const startDate = this.selectedRange.startDate;\n      const isAfterStart = date.year > startDate.year ||\n        (date.year === startDate.year && date.month > startDate.month) ||\n        (date.year === startDate.year && date.month === startDate.month && date.day > startDate.day);\n\n      if (isAfterStart) {\n        newRange = { startDate, endDate: date };\n      } else {\n        newRange = { startDate: date, endDate: startDate };\n      }\n    } else {\n      newRange = { startDate: date, endDate: null };\n    }\n\n    this.selectedRange = newRange;\n    this.bhChange.emit(newRange);\n    this.bhDateRangeSelect.emit(newRange);\n  }\n\n  private handleLeftMonthYearChange = (event: CustomEvent<{ month: number; year: number }>) => {\n    const { month, year } = event.detail;\n    this.leftMonth = month;\n    this.leftYear = year;\n\n    // Ensure right calendar is always at least one month ahead\n    if (year > this.rightYear || (year === this.rightYear && month >= this.rightMonth)) {\n      const nextMonthYear = this.getNextMonth(month, year);\n      this.rightMonth = nextMonthYear.month;\n      this.rightYear = nextMonthYear.year;\n    }\n  };\n\n  private handleRightMonthYearChange = (event: CustomEvent<{ month: number; year: number }>) => {\n    const { month, year } = event.detail;\n    this.rightMonth = month;\n    this.rightYear = year;\n\n    // Ensure left calendar is always at least one month behind\n    if (year < this.leftYear || (year === this.leftYear && month <= this.leftMonth)) {\n      const prevMonthYear = this.getPreviousMonth(month, year);\n      this.leftMonth = prevMonthYear.month;\n      this.leftYear = prevMonthYear.year;\n    }\n  };\n\n  render() {\n    return (\n      <Host>\n        <div class=\"date-range-picker-content\">\n          <div class=\"date-pickers\">\n            <div class=\"left-picker\">\n              <bh-date-picker-content\n                minYear={this.minYear}\n                maxYear={this.maxYear}\n                disabled={this.disabled}\n                disabledDates={this.disabledDates}\n                showOtherMonthDays={this.showOtherMonthDays}\n                displayMonth={this.leftMonth}\n                displayYear={this.leftYear}\n                rangeStart={this.selectedRange?.startDate ?? undefined}\n                rangeEnd={this.selectedRange?.endDate ?? undefined}\n                onBhChange={this.handleLeftDateSelect}\n                onBhMonthYearChange={this.handleLeftMonthYearChange}\n              ></bh-date-picker-content>\n            </div>\n            <div class=\"right-picker\">\n              <bh-date-picker-content\n                minYear={this.minYear}\n                maxYear={this.maxYear}\n                disabled={this.disabled}\n                disabledDates={this.disabledDates}\n                showOtherMonthDays={this.showOtherMonthDays}\n                displayMonth={this.rightMonth}\n                displayYear={this.rightYear}\n                rangeStart={this.selectedRange?.startDate ?? undefined}\n                rangeEnd={this.selectedRange?.endDate ?? undefined}\n                onBhChange={this.handleRightDateSelect}\n                onBhMonthYearChange={this.handleRightMonthYearChange}\n              ></bh-date-picker-content>\n            </div>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n"],"names":[],"mappings":"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"}